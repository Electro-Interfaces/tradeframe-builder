<!DOCTYPE html>
<html>
<head>
    <title>Equipment Page Debug</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #1a1a1a; color: #fff; }
        .error { background: #5a2d2d; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .info { background: #2d2d5a; padding: 15px; margin: 10px 0; border-radius: 5px; }
        button { background: #4a9a4a; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px; }
        pre { background: #2a2a2a; padding: 15px; border-radius: 5px; overflow-x: auto; white-space: pre-wrap; }
    </style>
</head>
<body>
    <h1>üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</h1>
    
    <div class="info">
        <h3>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞</h3>
        <p>–û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Console –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ—à–∏–±–æ–∫ JavaScript</p>
    </div>
    
    <button onclick="testEquipmentPage()">üîç –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</button>
    <button onclick="checkConsole()">üìã –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏</button>
    
    <div id="results"></div>
    
    <script>
        let errorMessages = [];
        
        // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏
        window.onerror = function(msg, url, line, col, error) {
            errorMessages.push({
                message: msg,
                source: url,
                line: line,
                column: col,
                error: error
            });
            console.error('JavaScript Error:', msg, 'at', url + ':' + line + ':' + col);
        };
        
        window.addEventListener('unhandledrejection', function(event) {
            errorMessages.push({
                message: 'Unhandled Promise Rejection: ' + event.reason,
                source: 'Promise',
                line: 'N/A',
                column: 'N/A',
                error: event.reason
            });
            console.error('Unhandled promise rejection:', event.reason);
        });
        
        function testEquipmentPage() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<div class="info">–ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è...</div>';
            
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
            const equipmentWindow = window.open('http://localhost:3001/point/equipment', '_blank');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è
            setTimeout(() => {
                if (equipmentWindow && !equipmentWindow.closed) {
                    resultsDiv.innerHTML += '<div class="info">‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã–ª–∞—Å—å. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –æ—à–∏–±–æ–∫.</div>';
                } else {
                    resultsDiv.innerHTML += '<div class="error">‚ùå –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ —Å–º–æ–≥–ª–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –∏–ª–∏ –±—ã–ª–∞ –∑–∞–∫—Ä—ã—Ç–∞.</div>';
                }
            }, 2000);
        }
        
        function checkConsole() {
            const resultsDiv = document.getElementById('results');
            
            if (errorMessages.length === 0) {
                resultsDiv.innerHTML = '<div class="info">‚úÖ –û—à–∏–±–æ–∫ JavaScript –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ –Ω–∞ –¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.</div>';
                resultsDiv.innerHTML += '<div class="info">üí° –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ —Ç–∞–º.</div>';
            } else {
                let errorHtml = '<div class="error"><h3>‚ùå –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏:</h3>';
                errorMessages.forEach((err, index) => {
                    errorHtml += `<div><strong>–û—à–∏–±–∫–∞ ${index + 1}:</strong></div>`;
                    errorHtml += `<div>–°–æ–æ–±—â–µ–Ω–∏–µ: ${err.message}</div>`;
                    errorHtml += `<div>–ò—Å—Ç–æ—á–Ω–∏–∫: ${err.source}:${err.line}:${err.column}</div>`;
                    errorHtml += '<br>';
                });
                errorHtml += '</div>';
                resultsDiv.innerHTML = errorHtml;
            }
        }
        
        // –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
        window.onload = function() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = `
                <div class="info">
                    <h3>üîç –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ:</h3>
                    <ol>
                        <li>–ù–∞–∂–º–∏—Ç–µ "–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É" –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</li>
                        <li>–û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ</li>
                        <li>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Console</li>
                        <li>–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∫—Ä–∞—Å–Ω—ã–µ –æ—à–∏–±–∫–∏</li>
                        <li>–ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "–±–µ–ª–∞—è" –∏–ª–∏ –ø—É—Å—Ç–∞—è, –∏—â–∏—Ç–µ –æ—à–∏–±–∫–∏ React/JavaScript</li>
                    </ol>
                </div>
            `;
        };
    </script>
</body>
</html>