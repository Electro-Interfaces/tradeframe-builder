# –û—Ç—á–µ—Ç –ø–æ –∞—É–¥–∏—Ç—É —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Supabase

## –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

–ü—Ä–æ–≤–µ–¥–µ–Ω –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç 35+ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –ø–∞–ø–∫–µ `src/services/` –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Supabase. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç—å—é –ê–ó–° —Å –ø–æ–ª–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π TypeScript, –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ localStorage –∏ –≥–æ—Ç–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –ë–î.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –æ–±–∑–æ—Ä

### –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Frontend**: React 18 + TypeScript + TailwindCSS
- **–†–æ—É—Ç–∏–Ω–≥**: React Router v6 —Å —á–µ—Ç–∫–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü
- **–î–∞–Ω–Ω—ã–µ**: Mock API —Å localStorage + –≥–æ—Ç–æ–≤—ã–µ HTTP –∫–ª–∏–µ–Ω—Ç—ã
- **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å CVA –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏

### –ö–ª—é—á–µ–≤—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- –ü–∞—Ç—Ç–µ—Ä–Ω "API Switch" –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É mock –∏ production API
- –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –æ—Ç —à–∞–±–ª–æ–Ω–æ–≤ (Equipment/Components/Commands)
- –ì—Ä–∞–Ω—É–ª—è—Ä–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- –ê—É–¥–∏—Ç –∏ —Ç—Ä–µ–π—Å–∏–Ω–≥ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

## –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–µ—Ä–≤–∏—Å–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

### üî• –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –°–ï–†–í–ò–°–´ (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

#### 1. `operationsService.ts` - –û–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
**–†–∞–∑–º–µ—Ä**: 267KB+ | **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

**–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö**:
```typescript
Operation {
  id, operationType, status, tradingPointId, fuelType,
  quantity, price, totalCost, paymentMethod, shiftNumber,
  cardNumber, orderedQuantity, actualQuantity, metadata
}
```

**API –º–µ—Ç–æ–¥—ã**: CRUD + —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è + —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
**localStorage**: ‚úÖ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ 250+ –æ–ø–µ—Ä–∞—Ü–∏–π
**TypeScript**: ‚úÖ –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
**–ú–∏–≥—Ä–∞—Ü–∏—è**: üî¥ **–°–õ–û–ñ–ù–ê–Ø** (5-7 –¥–Ω–µ–π)
- –û–≥—Ä–æ–º–Ω—ã–π –æ–±—ä–µ–º –¥–µ–º–æ-–¥–∞–Ω–Ω—ã—Ö (250+ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)
- –°–ª–æ–∂–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏, —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–∞–º–∏, —Ü–µ–Ω–∞–º–∏
- –¢—Ä–µ–±—É–µ—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –≤ Supabase

---

#### 2. `equipment.ts` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º
**–†–∞–∑–º–µ—Ä**: 1395 —Å—Ç—Ä–æ–∫ | **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê‚≠ê

**–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö**:
```typescript
Equipment {
  id, trading_point_id, name, system_type, display_name,
  serial_number, status, params, components, 
  created_from_template
}
```

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**:
- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –æ—Ç —à–∞–±–ª–æ–Ω–æ–≤
- –°–≤—è–∑–∏ —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏
- –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ (online/offline/maintenance/archived)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å tanksService –¥–ª—è —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–æ–≤

**API –º–µ—Ç–æ–¥—ã**: list, create, get, update, setStatus, delete, getEvents
**localStorage**: ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
**TypeScript**: ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
**–ú–∏–≥—Ä–∞—Ü–∏—è**: üü° **–£–ú–ï–†–ï–ù–ù–ê–Ø** (3-4 –¥–Ω—è)
- –•–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –°–≤—è–∑–∏ many-to-many —Å components
- –ù—É–∂–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É

---

#### 3. `nomenclatureService.ts` - –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞ —Ç–æ–ø–ª–∏–≤–∞
**–†–∞–∑–º–µ—Ä**: 445 —Å—Ç—Ä–æ–∫ | **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê

**–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö**:
```typescript
FuelNomenclature {
  id, networkId, name, internalCode, networkApiCode,
  networkApiSettings, externalCodes, status
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –°–ª–æ–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–Ω–µ—à–Ω–∏—Ö –∫–æ–¥–æ–≤
- API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Å–µ—Ç—è–º–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤

**API –º–µ—Ç–æ–¥—ã**: CRUD + —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏–º–∏ –∫–æ–¥–∞–º–∏
**localStorage**: ‚úÖ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
**TypeScript**: ‚úÖ –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
**–ú–∏–≥—Ä–∞—Ü–∏—è**: üü° **–£–ú–ï–†–ï–ù–ù–ê–Ø** (2-3 –¥–Ω—è)
- –ù—É–∂–Ω—ã —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è external_codes
- JSON –ø–æ–ª—è –¥–ª—è networkApiSettings

---

#### 4. `pricesService.ts` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏
**–†–∞–∑–º–µ—Ä**: 1802 —Å—Ç—Ä–æ–∫–∏ | **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê‚≠ê

**–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö**:
```typescript
FuelPrice, PricePackage, PriceJournalEntry, FuelType
```

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–∞–º–∏ —Ü–µ–Ω
- –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (1500+ –∑–∞–ø–∏—Å–µ–π –∞–≤–≥—É—Å—Ç–∞ 2025)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ù–î–°
- –°–≤—è–∑–∏ —Å —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ –∏ —Ç–∏–ø–∞–º–∏ —Ç–æ–ø–ª–∏–≤–∞

**API –º–µ—Ç–æ–¥—ã**: CRUD + –ø–∞–∫–µ—Ç–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ + –∂—É—Ä–Ω–∞–ª
**localStorage**: ‚úÖ –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–∞–º–∏
**TypeScript**: ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
**–ú–∏–≥—Ä–∞—Ü–∏—è**: üü° **–£–ú–ï–†–ï–ù–ù–ê–Ø** (3-4 –¥–Ω—è)
- –ë–æ–ª—å—à–æ–π –æ–±—ä–µ–º –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –ù—É–∂–Ω—ã —Ç—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ –ù–î–°

---

#### 5. `tanksService.ts` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–∞–º–∏
**–†–∞–∑–º–µ—Ä**: 1175 —Å—Ç—Ä–æ–∫ | **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê‚≠ê

**–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö**:
```typescript
Tank {
  id, name, fuelType, currentLevelLiters, capacityLiters,
  temperature, waterLevelMm, density, status, sensors,
  linkedPumps, notifications, thresholds
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- 18 —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–æ–≤ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏
- –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π –∏ –æ–ø–µ—Ä–∞—Ü–∏–π —Å–ª–∏–≤–∞
- –ö–∞–ª–∏–±—Ä–æ–≤–∫–∏ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º

**API –º–µ—Ç–æ–¥—ã**: CRUD + —Å–æ–±—ã—Ç–∏—è + –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–ª–∏–≤–∞ + –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
**localStorage**: ‚úÖ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
**TypeScript**: ‚úÖ –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
**–ú–∏–≥—Ä–∞—Ü–∏—è**: üü° **–£–ú–ï–†–ï–ù–ù–ê–Ø** (3-4 –¥–Ω—è)
- JSON –ø–æ–ª—è –¥–ª—è sensors, thresholds, notifications
- –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è events, drains, calibrations

---

### üü° –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢

#### 6. `authService.ts` - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
**–†–∞–∑–º–µ—Ä**: 437 —Å—Ç—Ä–æ–∫ | **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê‚≠ê

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**:
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å WebCrypto
- JWT —Ç–æ–∫–µ–Ω—ã + refresh —Ç–æ–∫–µ–Ω—ã
- –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å
- –ê—É–¥–∏—Ç –∏ —Ç—Ä–µ–π—Å–∏–Ω–≥

**–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö**: User, Session, AuditLog
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: ‚úÖ –í—ã—Å–æ–∫–∞—è (–≥–æ—Ç–æ–≤ –∫ production)
**–ú–∏–≥—Ä–∞—Ü–∏—è**: üü¢ **–ü–†–û–°–¢–ê–Ø** (1-2 –¥–Ω—è)
- Supabase Auth –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ü–µ—Ä–µ–Ω–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–æ–ª–µ–π

---

#### 7. `usersService.ts` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
**–†–∞–∑–º–µ—Ä**: 673 —Å—Ç—Ä–æ–∫–∏ | **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê

**–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö**: User, Role, UserRole
**–°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π**: 5 —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–æ–ª–µ–π —Å –≥—Ä–∞–Ω—É–ª—è—Ä–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
**API –º–µ—Ç–æ–¥—ã**: CRUD + –ø–æ–∏—Å–∫ + —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
**TypeScript**: ‚úÖ –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
**–ú–∏–≥—Ä–∞—Ü–∏—è**: üü¢ **–ü–†–û–°–¢–ê–Ø** (1-2 –¥–Ω—è)
- –•–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ì–æ—Ç–æ–≤—ã–µ —Ä–æ–ª–∏ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞

---

#### 8. `components.ts` - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
**–†–∞–∑–º–µ—Ä**: 902 —Å—Ç—Ä–æ–∫–∏ | **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: 
- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –æ—Ç —à–∞–±–ª–æ–Ω–æ–≤
- 30+ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
- –°–≤—è–∑–∏ —Å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º

**API –º–µ—Ç–æ–¥—ã**: CRUD + —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–º
**TypeScript**: ‚úÖ –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
**–ú–∏–≥—Ä–∞—Ü–∏—è**: üü° **–£–ú–ï–†–ï–ù–ù–ê–Ø** (2-3 –¥–Ω—è)

---

#### 9. `commandsService.ts` - –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥
**–†–∞–∑–º–µ—Ä**: 646 —Å—Ç—Ä–æ–∫ | **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: 
- –®–∞–±–ª–æ–Ω—ã –∫–æ–º–∞–Ω–¥ + —ç–∫–∑–µ–º–ø–ª—è—Ä—ã
- –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –†–∞–∑–ª–∏—á–Ω—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã (HTTP, broker)

**TypeScript**: ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
**–ú–∏–≥—Ä–∞—Ü–∏—è**: üü° **–£–ú–ï–†–ï–ù–ù–ê–Ø** (2-3 –¥–Ω—è)

---

### üü¢ –ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢

#### 10. `tradingNetworkAPI.ts` - API —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–µ—Ç–µ–π
**–†–∞–∑–º–µ—Ä**: 541 —Å—Ç—Ä–æ–∫–∞ | **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê

**–§—É–Ω–∫—Ü–∏–∏**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å pos.autooplata.ru
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: ‚úÖ –ì–æ—Ç–æ–≤ –∫ production
**–ú–∏–≥—Ä–∞—Ü–∏—è**: üü¢ **–ü–†–û–°–¢–ê–Ø** (0.5 –¥–Ω—è)
- –í–Ω–µ—à–Ω–∏–π API, –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

#### 11. –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- `apiConfigService.ts` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ ‚úÖ
- `httpClients.ts` - HTTP –∫–ª–∏–µ–Ω—Ç—ã ‚úÖ 
- `networksService.ts` - –¢–æ—Ä–≥–æ–≤—ã–µ —Å–µ—Ç–∏ ‚úÖ
- `messagesService.ts` - –°–æ–æ–±—â–µ–Ω–∏—è
- `workflowsService.ts` - –†–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

**–ú–∏–≥—Ä–∞—Ü–∏—è**: üü¢ **–ü–†–û–°–¢–ê–Ø** (1 –¥–µ–Ω—å –≤ —Å—É–º–º–µ)

---

## –û—Ü–µ–Ω–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏

### ‚úÖ –ì–û–¢–û–í–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´
1. **TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è** - 100% –ø–æ–∫—Ä—ã—Ç–∏–µ
2. **HTTP –∫–ª–∏–µ–Ω—Ç—ã** - –ì–æ—Ç–æ–≤—ã –¥–ª—è Supabase
3. **–°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** - –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
4. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API** - –ì–∏–±–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
5. **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** - –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

### ‚ö†Ô∏è –¢–†–ï–ë–£–Æ–¢ –î–û–†–ê–ë–û–¢–ö–ò
1. **–ë–æ–ª—å—à–∏–µ JSON –ø–æ–ª—è** - –ù—É–∂–Ω–æ –ø—Ä–æ–¥—É–º–∞—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é
2. **–°–≤—è–∑–∏ many-to-many** - –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
3. **–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ** - –°—Ç—Ä–∞—Ç–µ–≥–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - Zod —Å—Ö–µ–º—ã –¥–ª—è Supabase

### üî¥ –ü–†–û–ë–õ–ï–ú–ù–´–ï –ó–û–ù–´
1. **operationsService** - –û–≥—Ä–æ–º–Ω—ã–π –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö
2. **–î–µ–º–æ –¥–∞–Ω–Ω—ã–µ** - 250+ –æ–ø–µ—Ä–∞—Ü–∏–π + 1500+ –∑–∞–ø–∏—Å–µ–π –≤ –∂—É—Ä–Ω–∞–ª–µ —Ü–µ–Ω
3. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –°–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1 –Ω–µ–¥–µ–ª—è)
1. –°–æ–∑–¥–∞—Ç—å Supabase —Å—Ö–µ–º—É –ë–î
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Edge Functions –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏  
3. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Row Level Security

### –≠—Ç–∞–ø 2: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã (2-3 –Ω–µ–¥–µ–ª–∏)
1. **auth + users** (2 –¥–Ω—è) - –ù–∞—á–∞—Ç—å —Å –ø—Ä–æ—Å—Ç–æ–≥–æ
2. **nomenclature** (3 –¥–Ω—è) - –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞ —Ç–æ–ø–ª–∏–≤–∞
3. **tanks** (4 –¥–Ω—è) - –†–µ–∑–µ—Ä–≤—É–∞—Ä—ã + —Å–æ–±—ã—Ç–∏—è
4. **equipment** (4 –¥–Ω—è) - –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ + –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
5. **prices** (4 –¥–Ω—è) - –¶–µ–Ω—ã + –ø–∞–∫–µ—Ç—ã + –∂—É—Ä–Ω–∞–ª
6. **operations** (7 –¥–Ω–µ–π) - –°–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π

### –≠—Ç–∞–ø 3: –í—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (1 –Ω–µ–¥–µ–ª—è)
1. –ö–æ–º–∞–Ω–¥—ã –∏ —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
2. –°–æ–æ–±—â–µ–Ω–∏—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
3. –û—Ç—á–µ—Ç—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –≠—Ç–∞–ø 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (1 –Ω–µ–¥–µ–ª—è)
1. Trading Network API
2. –í–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
3. –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Supabase

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
```sql
-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
auth.users (Supabase Auth)
profiles (id, name, phone, role_id, tenant_id)
roles (id, name, code, permissions[])

-- –¢–æ—Ä–≥–æ–≤—ã–µ —Å–µ—Ç–∏ –∏ —Ç–æ—á–∫–∏  
networks (id, name, description, type)
trading_points (id, network_id, name, address, coordinates)

-- –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞
fuel_nomenclature (id, network_id, name, internal_code, status)
external_codes (id, nomenclature_id, system_type, external_code)

-- –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
equipment_templates (id, name, system_type, default_params)
equipment (id, trading_point_id, template_id, display_name, status, params)
components (id, equipment_id, template_id, display_name, status, params)

-- –†–µ–∑–µ—Ä–≤—É–∞—Ä—ã
tanks (id, trading_point_id, name, fuel_type, capacity, current_level, params)
tank_events (id, tank_id, type, title, timestamp, metadata)
tank_calibrations (id, tank_id, date, filename, points_count)

-- –¶–µ–Ω—ã
fuel_prices (id, trading_point_id, fuel_code, price_net, vat_rate, status)
price_packages (id, trading_point_id, apply_at, status, lines[])
price_journal (id, fuel_code, price_net, source, timestamp, author_id)

-- –û–ø–µ—Ä–∞—Ü–∏–∏
operations (id, type, status, trading_point_id, fuel_type, quantity, amount)
transactions (id, operation_id, payment_method, card_number, shift_number)
```

### –ò–Ω–¥–µ–∫—Å—ã –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –ø–æ trading_point_id + timestamp
- –ß–∞—Å—Ç–∏—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
- GIN –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è JSON –ø–æ–ª–µ–π

---

## –í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏

| –°–µ—Ä–≤–∏—Å | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –í—Ä–µ–º—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------|-------|----------|
| authService | üü¢ | 1-2 –¥–Ω—è | Supabase Auth –≥–æ—Ç–æ–≤ |
| usersService | üü¢ | 1-2 –¥–Ω—è | –ü—Ä–æ—Å—Ç—ã–µ CRUD |  
| nomenclatureService | üü° | 2-3 –¥–Ω—è | –í–Ω–µ—à–Ω–∏–µ –∫–æ–¥—ã |
| tanksService | üü° | 3-4 –¥–Ω—è | –°–æ–±—ã—Ç–∏—è + –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ |
| equipmentService | üü° | 3-4 –¥–Ω—è | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã + —à–∞–±–ª–æ–Ω—ã |
| pricesService | üü° | 3-4 –¥–Ω—è | –ü–∞–∫–µ—Ç—ã + –∂—É—Ä–Ω–∞–ª |
| operationsService | üî¥ | 5-7 –¥–Ω–µ–π | –ë–æ–ª—å—à–∏–µ –¥–∞–Ω–Ω—ã–µ |
| –û—Å—Ç–∞–ª—å–Ω—ã–µ | üü¢ | 3-5 –¥–Ω–µ–π | –í —Å—É–º–º–µ |

**–ò–¢–û–ì–û: 4-6 –Ω–µ–¥–µ–ª—å** –ø–æ–ª–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏

---

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –í—ã—Å–æ–∫–∏–µ —Ä–∏—Å–∫–∏
1. **–ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö** - –ü–æ–ª–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ localStorage
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –ø–æ —á–∞—Å—Ç—è–º
3. **–°–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö** - –¢—â–∞—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ FK —Å–≤—è–∑–µ–π

### –°—Ä–µ–¥–Ω–∏–µ —Ä–∏—Å–∫–∏  
1. **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö constraint'–æ–≤
2. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ RLS –ø–æ–ª–∏—Ç–∏–∫
3. **–ú–∏–≥—Ä–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–∏** - –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1. **Blue-Green –¥–µ–ø–ª–æ–π** - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ mock + Supabase
2. **–ü–æ—ç—Ç–∞–ø–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è** - –ü–æ —Å–µ—Ä–≤–∏—Å–∞–º
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
4. **–û—Ç–∫–∞—Ç** - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ localStorage

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∏–º–µ–µ—Ç **–æ—Ç–ª–∏—á–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Supabase:
- ‚úÖ –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript
- ‚úÖ –ì–æ—Ç–æ–≤—ã–µ HTTP –∫–ª–∏–µ–Ω—Ç—ã  
- ‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**:
- –ë–æ–ª—å—à–æ–π –æ–±—ä–µ–º –¥–µ–º–æ-–¥–∞–Ω–Ω—ã—Ö –≤ operationsService
- –°–ª–æ–∂–Ω—ã–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- JSON –ø–æ–ª—è —Ç—Ä–µ–±—É—é—Ç –ø—Ä–æ–¥—É–º—ã–≤–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**–í—Ä–µ–º—è –º–∏–≥—Ä–∞—Ü–∏–∏**: 4-6 –Ω–µ–¥–µ–ª—å –ø—Ä–∏ —É—á–∞—Å—Ç–∏–∏ 2-3 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è**: –ù–∞—á–∞—Ç—å —Å –ø—Ä–æ—Å—Ç—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (auth, users), –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º (–Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞, —Ä–µ–∑–µ—Ä–≤—É–∞—Ä—ã, —Ü–µ–Ω—ã), –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å–ª–æ–∂–Ω—ã–º operationsService.

---

*–û—Ç—á–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω: 3 —Å–µ–Ω—Ç—è–±—Ä—è 2025*
*–ê—É–¥–∏—Ç –ø–æ–∫—Ä—ã–ª 35+ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ src/services/*