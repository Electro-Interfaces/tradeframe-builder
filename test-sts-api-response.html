<!DOCTYPE html>
<html>
<head>
    <title>Test STS API Response Structure</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #1e293b; color: white; }
        pre { background: #0f172a; padding: 15px; border-radius: 8px; border: 1px solid #334155; margin: 10px 0; overflow: auto; }
        .section { margin: 20px 0; border: 1px solid #475569; padding: 15px; border-radius: 8px; }
        .error { color: #f87171; }
        .success { color: #10b981; }
        .warning { color: #f59e0b; }
        button { padding: 10px 20px; margin: 10px 5px; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #2563eb; }
        #result { margin-top: 20px; }
    </style>
</head>
<body>
    <h1>üîç Debug STS API Response Structure</h1>
    
    <div class="section">
        <h2>–ü—Ä–æ–±–ª–µ–º–∞:</h2>
        <p>STS API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ (Array(6)), –Ω–æ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞–≤–Ω—ã –Ω—É–ª—é</p>
        
        <h3>–û–∂–∏–¥–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Price:</h3>
        <pre class="success">
interface Price {
  id: number;
  fuelType: string;     // —Ç–∏–ø —Ç–æ–ø–ª–∏–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ê–ò-95")
  price: number;        // —Ü–µ–Ω–∞ –≤ –∫–æ–ø–µ–π–∫–∞—Ö –∏–ª–∏ —Ä—É–±–ª—è—Ö
  effectiveDate: string; // –¥–∞—Ç–∞ –¥–µ–π—Å—Ç–≤–∏—è
  createdBy: string;    // –∫—Ç–æ —Å–æ–∑–¥–∞–ª
  status: string;       // —Å—Ç–∞—Ç—É—Å (active, scheduled)
}
        </pre>
        
        <h3>–¢–µ–∫—É—â–∏–π –º–∞–ø–ø–∏–Ω–≥ –≤ Prices.tsx:</h3>
        <pre class="warning">
priceGross: stsPrice.price || 0,  // –æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–Ω–∞
fuelType: stsPrice.fuelType,      // —Ç–∏–ø —Ç–æ–ø–ª–∏–≤–∞
appliedFrom: stsPrice.effectiveDate  // –¥–∞—Ç–∞
        </pre>
    </div>
    
    <div class="section">
        <h2>–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –Ω—É–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π:</h2>
        <ul>
            <li><strong>stsPrice.price</strong> = undefined/null/0</li>
            <li><strong>stsPrice.fuelType</strong> = undefined/null/""</li>
            <li>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ–ª–µ–π –≤ API –æ—Ç–≤–µ—Ç–µ</li>
            <li>API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—ã–µ/–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</li>
        </ul>
    </div>
    
    <div class="section">
        <h2>–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:</h2>
        <ol>
            <li>–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/point/prices</li>
            <li>–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)</li>
            <li>–ù–∞–∂–º–∏—Ç–µ "STS API"</li>
            <li>–ù–∞–π–¥–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:</li>
        </ol>
        <pre class="success">
üîç –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ STS API: Array(6)
  ‚îî‚îÄ‚îÄ [0]: {id: 123, fuelType: "–ê–ò-95", price: 5500, ...}
  ‚îî‚îÄ‚îÄ [1]: {id: 124, fuelType: "–î–¢", price: 6200, ...}

üîç –ü–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç STS: {id: 123, fuelType: "–ê–ò-95", price: 5500, effectiveDate: "2024-01-15", status: "active"}

üîç –ú–∞–ø–ø–∏–Ω–≥ —ç–ª–µ–º–µ–Ω—Ç–∞: {id: 123, fuelType: "–ê–ò-95", price: 5500, effectiveDate: "2024-01-15"}
        </pre>
    </div>
    
    <div id="result"></div>
    
    <script>
        console.log('üîç –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–ª–∞–¥–∫–∏ STS API –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
        console.log('üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:');
        console.log('1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/point/prices');
        console.log('2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "STS API"');
        console.log('3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏');
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö
        function testMapping(sampleData) {
            console.log('üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –º–∞–ø–ø–∏–Ω–≥:', sampleData);
            
            const mapped = {
                id: sampleData.id?.toString() || 'N/A',
                fuelType: sampleData.fuelType || 'N/A',
                fuelCode: sampleData.fuelType || 'N/A',
                priceNet: 0,
                vatRate: 0,
                priceGross: sampleData.price || 0,
                unit: "–õ",
                appliedFrom: sampleData.effectiveDate || 'N/A',
                status: sampleData.status || 'N/A',
                source: 'sts-api'
            };
            
            console.log('üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç –º–∞–ø–ø–∏–Ω–≥–∞:', mapped);
            return mapped;
        }
        
        // –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
        const testData1 = {id: 123, fuelType: "–ê–ò-95", price: 5500, effectiveDate: "2024-01-15", status: "active"};
        const testData2 = {id: 124, fuel_type: "–î–¢", price_value: 6200, effective_date: "2024-01-15", status: "active"};
        const testData3 = {id: 125, type: "–ê–ò-92", amount: 5100, date: "2024-01-15", active: true};
        
        console.log('üß™ –¢–µ—Å—Ç 1 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞):');
        testMapping(testData1);
        
        console.log('üß™ –¢–µ—Å—Ç 2 (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ–ª–µ–π):');
        testMapping(testData2);
        
        console.log('üß™ –¢–µ—Å—Ç 3 (—Å–æ–≤—Å–µ–º –¥—Ä—É–≥–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è):');
        testMapping(testData3);
    </script>
</body>
</html>