<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–æ–≤</title>
</head>
<body>
    <h1>–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–æ–≤</h1>
    <div id="results"></div>

    <script type="module">
        // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Å–µ—Ä–≤–∏—Å –Ω–∞–ø—Ä—è–º—É—é
        async function checkTanksData() {
            const resultsDiv = document.getElementById('results');
            
            try {
                console.log('üîç –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥—É–ª—å equipmentSupabase...');
                const { equipmentSupabaseService } = await import('./src/services/equipmentSupabase.ts');
                
                const tradingPointId = '6969b08d-1cbe-45c2-ae9c-8002c7022b59';
                console.log(`üìä –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –¥–ª—è –¢–ü: ${tradingPointId}`);
                
                const result = await equipmentSupabaseService.list({
                    trading_point_id: tradingPointId,
                    system_type: 'fuel_tank'
                });
                
                console.log('üìã –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–∞:', result);
                
                let html = '<h2>–î–∞–Ω–Ω—ã–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (—Ç–∏–ø: fuel_tank)</h2>';
                
                if (result.data && result.data.length > 0) {
                    result.data.forEach((item, index) => {
                        html += `
                            <div style="border: 1px solid #ccc; padding: 10px; margin: 10px 0;">
                                <h3>–†–µ–∑–µ—Ä–≤—É–∞—Ä ${index + 1}</h3>
                                <p><strong>ID:</strong> ${item.id}</p>
                                <p><strong>–ù–∞–∑–≤–∞–Ω–∏–µ:</strong> ${item.display_name || item.name}</p>
                                <p><strong>–°—Ç–∞—Ç—É—Å:</strong> ${item.status}</p>
                                <p><strong>–¢–∏–ø —Å–∏—Å—Ç–µ–º—ã:</strong> ${item.system_type}</p>
                                <p><strong>params:</strong> <pre>${JSON.stringify(item.params, null, 2)}</pre></p>
                                <p><strong>default_params:</strong> <pre>${JSON.stringify(item.default_params, null, 2)}</pre></p>
                            </div>
                        `;
                    });
                } else {
                    html += '<p>–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ!</p>';
                }
                
                resultsDiv.innerHTML = html;
                
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞:', error);
                resultsDiv.innerHTML = `<p style="color: red;">–û—à–∏–±–∫–∞: ${error.message}</p>`;
            }
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É
        checkTanksData();
    </script>
</body>
</html>