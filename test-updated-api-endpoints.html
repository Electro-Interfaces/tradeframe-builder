<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö API endpoints</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { max-width: 900px; margin: 0 auto; }
        .success { color: green; background: #f0fff0; padding: 10px; border-left: 4px solid green; }
        .error { color: red; background: #fff0f0; padding: 10px; border-left: 4px solid red; }
        .info { color: blue; background: #f0f0ff; padding: 10px; border-left: 4px solid blue; }
        .warning { color: orange; background: #fff8e1; padding: 10px; border-left: 4px solid orange; }
        .log { background: #f5f5f5; padding: 10px; margin: 10px 0; border-left: 3px solid #ccc; font-family: monospace; }
        button { padding: 10px 20px; margin: 5px; background: #007bff; color: white; border: none; cursor: pointer; border-radius: 4px; }
        button:hover { background: #0056b3; }
        .diff { background: #fff3cd; padding: 10px; margin: 10px 0; border-left: 4px solid #ffc107; }
        .before { color: #d73527; }
        .after { color: #28a745; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß –¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö API endpoints</h1>
        
        <div class="success">
            <h3>‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:</h3>
            <p><strong>1. BASE_URL is not defined</strong> - –ò–°–ü–†–ê–í–õ–ï–ù–û ‚úÖ</p>
            <p><strong>2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ endpoints</strong> - –ò–°–ü–†–ê–í–õ–ï–ù–û ‚úÖ</p>
            <p><strong>3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞</strong> - –ò–°–ü–†–ê–í–õ–ï–ù–û ‚úÖ</p>
        </div>

        <div class="diff">
            <h3>üìã –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ API endpoints:</h3>
            <table>
                <tr>
                    <th>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç</th>
                    <th class="before">‚ùå –ë—ã–ª–æ</th>
                    <th class="after">‚úÖ –°—Ç–∞–ª–æ</th>
                </tr>
                <tr>
                    <td><strong>–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ URL</strong></td>
                    <td class="before">/transactions</td>
                    <td class="after">/v1/transactions</td>
                </tr>
                <tr>
                    <td><strong>–†–µ–∑–µ—Ä–≤—É–∞—Ä—ã URL</strong></td>
                    <td class="before">/tanks</td>
                    <td class="after">/v1/tanks</td>
                </tr>
                <tr>
                    <td><strong>–ü–∞—Ä–∞–º–µ—Ç—Ä —Å–∏—Å—Ç–µ–º—ã</strong></td>
                    <td class="before">systemId=15</td>
                    <td class="after">system=15</td>
                </tr>
                <tr>
                    <td><strong>–ü–∞—Ä–∞–º–µ—Ç—Ä —Å—Ç–∞–Ω—Ü–∏–∏</strong></td>
                    <td class="before">stationId=4</td>
                    <td class="after">station=4</td>
                </tr>
                <tr>
                    <td><strong>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</strong></td>
                    <td class="before">startDate=...</td>
                    <td class="after">date_from=...</td>
                </tr>
                <tr>
                    <td><strong>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</strong></td>
                    <td class="before">endDate=...</td>
                    <td class="after">date_to=...</td>
                </tr>
            </table>
        </div>

        <div class="info">
            <h3>üß™ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:</h3>
            <p><strong>–ù–æ–≤—ã–π HTTP –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:</strong></p>
            <div class="log">
                <span class="after">üåê HTTP GET https://pos.autooplata.ru/tms/v1/transactions?system=15&station=4&date_from=2025-09-02&date_to=2025-09-30</span>
            </div>
            <p><strong>–í–º–µ—Å—Ç–æ —Å—Ç–∞—Ä–æ–≥–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ):</strong></p>
            <div class="log">
                <span class="before">‚ùå HTTP GET https://pos.autooplata.ru/tms/transactions?systemId=15&stationId=4&startDate=2025-09-02&endDate=2025-09-30</span>
            </div>
        </div>

        <div class="warning">
            <h3>‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</h3>
            <p><strong>–°—Ü–µ–Ω–∞—Ä–∏–π A: 401 Unauthorized</strong> - –ü—Ä–æ–±–ª–µ–º—ã —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π (API –∫–ª—é—á –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω)</p>
            <p><strong>–°—Ü–µ–Ω–∞—Ä–∏–π B: 404 Not Found</strong> - Endpoint –≤—Å–µ –µ—â–µ –Ω–µ –Ω–∞–π–¥–µ–Ω (–ø—Ä–æ–±–ª–µ–º—ã —Å API —Å–µ—Ä–≤–µ—Ä–æ–º)</p>
            <p><strong>–°—Ü–µ–Ω–∞—Ä–∏–π C: 200 OK</strong> - –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å, –ø–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ!</p>
            <p><strong>–°—Ü–µ–Ω–∞—Ä–∏–π D: CORS Error</strong> - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞ (–Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã)</p>
        </div>

        <div>
            <h2>üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</h2>
            <ol>
                <li><button onclick="window.open('http://localhost:3001/network/operations-transactions', '_blank')">üìä –û—Ç–∫—Ä—ã—Ç—å —Ä–∞–∑–¥–µ–ª –æ–ø–µ—Ä–∞—Ü–∏–π</button></li>
                <li>–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ç—å <strong>"–ù–æ—Ä–¥ –õ–∞–π–Ω"</strong> (system=15)</li>
                <li>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—Ä–≥–æ–≤—É—é —Ç–æ—á–∫—É <strong>"–ê–ó–° ‚Ññ004 - –ú–æ—Å–∫–æ–≤—Å–∫–æ–µ —à–æ—Å—Å–µ"</strong> (station=4)</li>
                <li>–ù–∞–∂–º–∏—Ç–µ <strong>"–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–∑ API"</strong></li>
                <li>–û—Ç–∫—Ä–æ–π—Ç–µ <strong>Developer Console (F12)</strong></li>
                <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∏ HTTP –∑–∞–ø—Ä–æ—Å—ã</li>
            </ol>
        </div>

        <div>
            <h3>üìä –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:</h3>
            <div class="log">
‚úÖ –õ–æ–≥: "üßæ –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –∏–∑ —Ç–æ—Ä–≥–æ–≤–æ–π —Å–µ—Ç–∏: system=15, station=4"<br>
‚úÖ –ó–∞–ø—Ä–æ—Å: "üåê HTTP GET https://pos.autooplata.ru/tms/v1/transactions?system=15&station=4..."<br>
‚úÖ –ù–µ—Ç –æ—à–∏–±–∫–∏: "BASE_URL is not defined"<br>
‚úÖ –ù–µ—Ç –æ—à–∏–±–∫–∏: "ReferenceError"<br>
            </div>
        </div>

        <div>
            <h3>üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:</h3>
            <p>–ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –ø–æ–ª—É—á–∞–µ—Ç–µ 404, —ç—Ç–æ –º–æ–∂–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å:</p>
            <ul>
                <li>API —Å–µ—Ä–≤–µ—Ä pos.autooplata.ru –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è</li>
                <li>–¢—Ä–µ–±—É–µ—Ç—Å—è –¥—Ä—É–≥–∞—è –≤–µ—Ä—Å–∏—è API (v2, v3)</li>
                <li>–ù—É–∂–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏–ª–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏</li>
            </ul>
        </div>

        <div>
            <button onclick="location.reload()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</button>
            <button onclick="window.open('http://localhost:3001', '_blank')">üåê –ì–ª–∞–≤–Ω–∞—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</button>
        </div>
    </div>

    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        fetch('http://localhost:3001')
            .then(response => {
                const status = document.createElement('div');
                status.className = response.ok ? 'success' : 'warning';
                status.innerHTML = `<p>üåê –°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: ${response.ok ? '–î–æ—Å—Ç—É–ø–Ω–æ' : '–ü—Ä–æ–±–ª–µ–º—ã'} (${response.status})</p>`;
                document.querySelector('.container').appendChild(status);
            })
            .catch(err => {
                const status = document.createElement('div');
                status.className = 'error';
                status.innerHTML = `<p>‚ùå –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ: ${err.message}</p>`;
                document.querySelector('.container').appendChild(status);
            });
    </script>
</body>
</html>