<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>TradeFrame - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Å–µ—Ç—è–º–∏</title>
    <meta name="description" content="–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Å–µ—Ç—è–º–∏ –∏ –ê–ó–°. –ê–∫—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã: –æ–±–∑–æ—Ä —Å–µ—Ç–µ–π, –æ–ø–µ—Ä–∞—Ü–∏–∏, —Ü–µ–Ω—ã, —Ä–µ–∑–µ—Ä–≤—É–∞—Ä—ã, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑–¥–µ–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ." />
    <meta name="author" content="TradeFrame" />
    
    <!-- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, max-age=0" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    
    <!-- –ü–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https:; media-src 'self'; object-src 'none'; frame-src 'none';" />
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="X-Frame-Options" content="DENY" />
    <meta http-equiv="X-XSS-Protection" content="1; mode=block" />
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />
    
    <!-- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ–∏–∫—Å—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ –Ω–∞ GitHub Pages -->
    <script>
      // –î–µ—Ç–µ–∫—Ü–∏—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      const isGitHubPages = window.location.hostname === 'electro-interfaces.github.io';
      
      // –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –Ω–∞ GitHub Pages
      if (isMobile && isGitHubPages) {
        console.log('üîß Mobile GitHub Pages detected - applying fixes');
        
        // –û—Ç–∫–ª—é—á–∞–µ–º Service Worker –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –¥–ª—è GitHub Pages
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.getRegistrations().then(function(registrations) {
            registrations.forEach(function(registration) {
              console.log('üö´ Unregistering SW for mobile GitHub Pages:', registration.scope);
              registration.unregister();
            });
          });
        }
        
        // –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
        if ('caches' in window) {
          caches.keys().then(cacheNames => {
            cacheNames.forEach(cacheName => {
              console.log('üóëÔ∏è Clearing mobile cache:', cacheName);
              caches.delete(cacheName);
            });
          });
        }
        
        // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π no-cache –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
        if ('fetch' in window) {
          const originalFetch = window.fetch;
          window.fetch = function(input, init) {
            init = init || {};
            init.cache = 'no-store';
            init.headers = init.headers || {};
            if (typeof init.headers.set === 'function') {
              init.headers.set('Cache-Control', 'no-cache, no-store, must-revalidate');
              init.headers.set('Pragma', 'no-cache');
            }
            return originalFetch(input, init);
          };
        }
        
        // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –µ—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å
        setTimeout(function() {
          if (!window.React) {
            console.log('üîÑ React not loaded, forcing reload for mobile');
            window.location.reload(true);
          }
        }, 3000);
        
      } else {
        // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –¥–ª—è desktop –∏ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.getRegistrations().then(function(registrations) {
            for(let registration of registrations) {
              registration.unregister();
            }
          });
        }
        // –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞
        if ('caches' in window) {
          caches.keys().then(cacheNames => {
            cacheNames.forEach(cacheName => {
              caches.delete(cacheName);
            });
          });
        }
      }
    </script>

    <!-- PWA –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
    <meta name="theme-color" content="#1e293b" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="TradeFrame" />
    <meta name="mobile-web-app-capable" content="yes" />
    
    <!-- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö -->
    <meta name="format-detection" content="telephone=no" />
    
    <!-- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ -->
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="theme-color" content="#1e293b" />
    <style>
      /* –ó–ê–©–ò–¢–ê –û–¢ PULL-TO-REFRESH –ù–ê –ú–û–ë–ò–õ–¨–ù–´–• –£–°–¢–†–û–ô–°–¢–í–ê–• */
      @media (hover: none) and (pointer: coarse) {
        html, body { 
          overscroll-behavior: none !important;
          overscroll-behavior-y: none !important;
          -webkit-overscroll-behavior: none !important;
          -webkit-overscroll-behavior-y: none !important;
          touch-action: pan-x pan-y !important;
        }

        #root {
          overscroll-behavior: none !important;
          overscroll-behavior-y: none !important;
          -webkit-overscroll-behavior: none !important;
          -webkit-overscroll-behavior-y: none !important;
          touch-action: pan-x pan-y !important;
          min-height: 100vh !important;
          min-height: 100dvh !important;
        }
      }
      
      /* –î–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ */
      @media not all and (hover: none) and (pointer: coarse) {
        html, body { 
          -webkit-overflow-scrolling: touch; 
        }
      }

      /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –¥–ª—è –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ */
      html {
        overscroll-behavior: none;
        overscroll-behavior-y: none;
        -webkit-overscroll-behavior: none;
        -webkit-overscroll-behavior-y: none;
      }
      
      body {
        overscroll-behavior: none;
        overscroll-behavior-y: none;
        -webkit-overscroll-behavior: none;
        -webkit-overscroll-behavior-y: none;
      }

      /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ FOUC (Flash of Unstyled Content) */
      #root {
        opacity: 1;
        visibility: visible;
      }

      /* –í—Ä–µ–º–µ–Ω–Ω—ã–π loading —Å–æ—Å—Ç–æ—è–Ω–∏–µ */
      .app-loading {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background: hsl(215 28% 12%);
        color: hsl(0 0% 95%);
      }
    </style>
    
    <!-- –ò–∫–æ–Ω–∫–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ -->
    <link rel="apple-touch-icon" sizes="152x152" href="/icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icon-180x180.png" />
    <link rel="apple-touch-icon" sizes="167x167" href="/icon-167x167.png" />
    <link rel="apple-touch-icon" href="/icon-152x152.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/icon-192x192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/icon-512x512.png" />
    <link rel="icon" type="image/svg+xml" href="/icon.svg" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="manifest" href="/manifest.json" />

    <!-- Social Media Meta Tags -->
    <meta property="og:title" content="TradeFrame - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Å–µ—Ç—è–º–∏" />
    <meta property="og:description" content="–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Å–µ—Ç—è–º–∏ –∏ –ê–ó–°. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–ø–µ—Ä–∞—Ü–∏–π, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏, –∫–æ–Ω—Ç—Ä–æ–ª—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://–í–ê–®_–î–û–ú–ï–ù.com" />
    <meta property="og:site_name" content="TradeFrame" />
    <meta property="og:image" content="https://–í–ê–®_–î–û–ú–ï–ù.com/og-image.jpg" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="TradeFrame - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Å–µ—Ç—è–º–∏" />
    <meta name="twitter:description" content="–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Å–µ—Ç—è–º–∏ –∏ –ê–ó–°" />
  </head>

  <body>
    <div id="root">
      <!-- Fallback loading –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π -->
      <div class="app-loading" id="app-loading">
        <div style="text-align: center;">
          <div style="width: 40px; height: 40px; border: 3px solid rgba(255, 255, 255, 0.1); border-top: 3px solid hsl(217 91% 60%); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 16px;"></div>
          <div id="loading-text" style="font-size: 16px; font-weight: 500;">–ó–∞–≥—Ä—É–∑–∫–∞ TradeFrame...</div>
          <div id="loading-status" style="font-size: 14px; color: hsl(215 15% 65%); margin-top: 8px;">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã</div>
          <div id="debug-info" style="font-size: 12px; color: hsl(215 15% 65%); margin-top: 16px; text-align: left; max-width: 300px;"></div>
        </div>
      </div>
    </div>
    
    <style>
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>
    
    <!-- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö -->
    <script>
      let loadingSteps = [];
      let startTime = Date.now();
      
      function updateLoadingStatus(step) {
        loadingSteps.push(step);
        const elapsed = ((Date.now() - startTime) / 1000).toFixed(1);
        
        const statusEl = document.getElementById('loading-status');
        const debugEl = document.getElementById('debug-info');
        
        if (statusEl) {
          statusEl.textContent = step;
        }
        
        if (debugEl) {
          debugEl.innerHTML = [
            `–í—Ä–µ–º—è: ${elapsed}—Å`,
            `UA: ${navigator.userAgent.substring(0, 30)}...`,
            `Viewport: ${window.innerWidth}x${window.innerHeight}`,
            `–®–∞–≥–∏: ${loadingSteps.length}`,
            loadingSteps.slice(-3).map((s, i) => `${i + 1}. ${s}`).join('<br>')
          ].join('<br>');
        }
        
        console.log(`üîÑ [${elapsed}s] ${step}`);
      }
      
      // –ù–∞—á–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
      updateLoadingStatus('HTML –∑–∞–≥—Ä—É–∂–µ–Ω');
      
      // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –æ—à–∏–±–∫–∏ JavaScript
      window.addEventListener('error', function(e) {
        updateLoadingStatus(`‚ùå JS Error: ${e.message}`);
        console.error('JavaScript Error:', e);
      });
      
      // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –æ—à–∏–±–∫–∏ –º–æ–¥—É–ª–µ–π
      window.addEventListener('unhandledrejection', function(e) {
        updateLoadingStatus(`‚ùå Promise rejected: ${e.reason}`);
        console.error('Unhandled Promise Rejection:', e);
      });
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É —á–µ—Ä–µ–∑ —Ç–∞–π–º–∞—É—Ç—ã
      setTimeout(() => updateLoadingStatus('1—Å - –æ–∂–∏–¥–∞–Ω–∏–µ JS'), 1000);
      setTimeout(() => updateLoadingStatus('3—Å - –ø—Ä–æ–≤–µ—Ä–∫–∞ React'), 3000);
      setTimeout(() => updateLoadingStatus('5—Å - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞'), 5000);
      
      // –î–µ—Ç–µ–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
      setTimeout(() => {
        if (document.getElementById('app-loading')) {
          updateLoadingStatus('‚ö†Ô∏è React –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è');
        }
      }, 8000);
      
      updateLoadingStatus('–°–∫—Ä–∏–ø—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –≥–æ—Ç–æ–≤');
      
      // –î–µ–ª–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –≥–ª–æ–±–∞–ª—å–Ω–æ–π
      window.updateLoadingStatus = updateLoadingStatus;
    </script>
    
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
