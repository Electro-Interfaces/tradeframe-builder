<!DOCTYPE html>
<html>
<head>
    <title>Test Equipment Page</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #1a1a1a; color: #fff; }
        button { background: #4a9a4a; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px; }
        .info { background: #2d2d5a; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .error { background: #5a2d2d; padding: 15px; margin: 10px 0; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>üîß –¢–µ—Å—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</h1>
    
    <div class="info">
        <p>–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è...</p>
    </div>
    
    <button onclick="testEquipmentPage()">–û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</button>
    <button onclick="checkLocalhost()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å localhost:3001</button>
    <button onclick="testOtherPages()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</button>
    
    <div id="results"></div>
    
    <script>
        function log(message, type = 'info') {
            const div = document.createElement('div');
            div.className = type;
            div.innerHTML = `<strong>${new Date().toLocaleTimeString()}</strong>: ${message}`;
            document.getElementById('results').appendChild(div);
        }

        async function testEquipmentPage() {
            log('üîß –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è...', 'info');
            
            try {
                const response = await fetch('http://localhost:3001/point/equipment');
                if (response.ok) {
                    log('‚úÖ HTTP –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω —É—Å–ø–µ—à–Ω–æ', 'info');
                    const text = await response.text();
                    if (text.includes('<!DOCTYPE html>')) {
                        log('‚úÖ –ü–æ–ª—É—á–µ–Ω–∞ HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞', 'info');
                        // –û—Ç–∫—Ä—ã–≤–∞–µ–º –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
                        window.open('http://localhost:3001/point/equipment', '_blank');
                    } else {
                        log('‚ùå –û—Ç–≤–µ—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è HTML —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π', 'error');
                    }
                } else {
                    log(`‚ùå HTTP –æ—à–∏–±–∫–∞: ${response.status} ${response.statusText}`, 'error');
                }
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ${error.message}`, 'error');
            }
        }

        async function checkLocalhost() {
            log('üåê –ü—Ä–æ–≤–µ—Ä—è–µ–º localhost:3001...', 'info');
            
            try {
                const response = await fetch('http://localhost:3001/');
                if (response.ok) {
                    log('‚úÖ –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç', 'info');
                    window.open('http://localhost:3001/', '_blank');
                } else {
                    log(`‚ùå –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: ${response.status}`, 'error');
                }
            } catch (error) {
                log(`‚ùå –°–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç: ${error.message}`, 'error');
            }
        }

        function testOtherPages() {
            log('üìã –¢–µ—Å—Ç–∏—Ä—É–µ–º –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã...', 'info');
            
            const pages = [
                { name: '–û–±–∑–æ—Ä —Å–µ—Ç–∏', url: 'http://localhost:3001/network/overview' },
                { name: '–¶–µ–Ω—ã', url: 'http://localhost:3001/point/prices' },
                { name: '–†–µ–∑–µ—Ä–≤—É–∞—Ä—ã', url: 'http://localhost:3001/point/tanks' }
            ];
            
            pages.forEach((page, index) => {
                setTimeout(() => {
                    fetch(page.url)
                        .then(response => {
                            if (response.ok) {
                                log(`‚úÖ ${page.name} - —Ä–∞–±–æ—Ç–∞–µ—Ç`, 'info');
                            } else {
                                log(`‚ùå ${page.name} - –æ—à–∏–±–∫–∞ ${response.status}`, 'error');
                            }
                        })
                        .catch(error => {
                            log(`‚ùå ${page.name} - –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞`, 'error');
                        });
                }, index * 500);
            });
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            log('üöÄ –°–∏—Å—Ç–µ–º–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –≥–æ—Ç–æ–≤–∞', 'info');
        };
    </script>
</body>
</html>