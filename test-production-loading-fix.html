<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Production —Ç–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è loading —ç–∫—Ä–∞–Ω–∞ v1.5.8</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #050510;
      color: #ffffff;
    }
    .test-panel {
      background: #1a1a3e;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      border: 1px solid #2a2a5e;
    }
    .app-frame {
      width: 100%;
      height: 700px;
      border: 3px solid #00ff44;
      border-radius: 8px;
      background: #000;
    }
    .controls {
      display: flex;
      gap: 10px;
      margin: 10px 0;
      flex-wrap: wrap;
    }
    button {
      background: #0077cc;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover { background: #005599; }
    .success { background: #00cc00; }
    .warning { background: #ff9900; color: #000; }
    .danger { background: #dd0000; }
    .info { background: #0099cc; }
    .version { background: #6600cc; }
    .status {
      padding: 12px 18px;
      border-radius: 6px;
      margin: 8px 0;
      font-size: 14px;
    }
    .log {
      background: #000020;
      color: #00ff88;
      padding: 15px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      max-height: 400px;
      overflow-y: auto;
      white-space: pre-wrap;
      border: 1px solid #004466;
    }
    .deploy-info {
      background: #001122;
      padding: 15px;
      border-radius: 6px;
      border-left: 4px solid #00ff44;
    }
    .deploy-info li {
      margin: 8px 0;
      color: #00ff88;
    }
    .version-badge {
      display: inline-block;
      background: #6600cc;
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>üöÄ Production —Ç–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è loading —ç–∫—Ä–∞–Ω–∞ <span class="version-badge">v1.5.8</span></h1>

  <div class="test-panel">
    <h2>üì¶ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–µ–ø–ª–æ–µ:</h2>
    <div class="deploy-info">
      <ul>
        <li><strong>–ö–æ–º–º–∏—Ç:</strong> e43ebf9 - "fix: –∏—Å–ø—Ä–∞–≤–∏—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–∫–∞–∑—ã loading —ç–∫—Ä–∞–Ω–∞ –∏ –º–µ—Ä—Ü–∞–Ω–∏–µ"</li>
        <li><strong>GitHub Pages:</strong> https://electro-interfaces.github.io/tradeframe-builder/</li>
        <li><strong>–í—Ä–µ–º—è –¥–µ–ø–ª–æ—è:</strong> <span id="deployTime">–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è...</span></li>
        <li><strong>–°—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è:</strong> <span id="deployStatus">GitHub Pages –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è...</span></li>
      </ul>
    </div>
  </div>

  <div class="test-panel">
    <h2>üéØ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏:</h2>
    <div class="status success">‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è main.tsx ‚Üî index.html —á–µ—Ä–µ–∑ window.reactReady</div>
    <div class="status success">‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ removeLoadingIndicator</div>
    <div class="status success">‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è React –∫–æ–Ω—Ç–µ–Ω—Ç–∞</div>
    <div class="status success">‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ OperationsTransactionsPageSimple</div>
    <div class="status warning">‚ö° Loading –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –û–î–ò–ù —Ä–∞–∑ –±–µ–∑ –º–µ—Ä—Ü–∞–Ω–∏—è</div>
  </div>

  <div class="test-panel">
    <h2>üîç –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º –Ω–∞ production:</h2>
    <ol>
      <li><strong>–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ–∫–∞–∑ loading:</strong> –ù–ï–¢ –º–µ—Ä—Ü–∞–Ω–∏—è –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–∫–∞–∑–æ–≤</li>
      <li><strong>–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:</strong> 100-300–º—Å –¥–æ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è loading</li>
      <li><strong>–ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:</strong> –ù–ï–¢ —Ç–µ–º–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏</li>
      <li><strong>PWA installer:</strong> –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –ø–æ–∫–∞–∑ —á–µ—Ä–µ–∑ 1-2 —Å–µ–∫—É–Ω–¥—ã</li>
      <li><strong>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:</strong> –ù–ï–¢ —Ç–µ–º–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞</li>
    </ol>
  </div>

  <div class="test-panel">
    <h2>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Production:</h2>
    <div class="controls">
      <button onclick="openProduction()" class="success">üöÄ Production (GitHub Pages)</button>
      <button onclick="openLocal()" class="info">üíª Local (localhost:3003)</button>
      <button onclick="compareVersions()" class="version">‚öñÔ∏è –°—Ä–∞–≤–Ω–∏—Ç—å –≤–µ—Ä—Å–∏–∏</button>
      <button onclick="testMultipleReloads()" class="warning">üîÑ –¢–µ—Å—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–æ–∫</button>
      <button onclick="clearStorage()" class="danger">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å Storage</button>
    </div>
  </div>

  <div class="test-panel">
    <h2>Production –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:</h2>
    <iframe id="appFrame" class="app-frame" src="about:blank"></iframe>
  </div>

  <div class="test-panel">
    <h2>–ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞:</h2>
    <div class="status success">‚úÖ –•–û–†–û–®–û: "üéØ main.tsx: React –≥–æ—Ç–æ–≤, —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º index.html"</div>
    <div class="status success">‚úÖ –•–û–†–û–®–û: "üéØ Removing initial loading indicator (–ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô –†–ê–ó)"</div>
    <div class="status success">‚úÖ –•–û–†–û–®–û: "üöÄ React content detected, removing loading"</div>
    <div class="status warning">‚ö†Ô∏è –í–û–ó–ú–û–ñ–ù–û: "üîí Loading —É–∂–µ —É–¥–∞–ª–µ–Ω, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤" (–µ—Å–ª–∏ –±—ã–ª–∞ –ø–æ–ø—ã—Ç–∫–∞ –ø–æ–≤—Ç–æ—Ä–∞)</div>
    <div class="status danger">‚ùå –ü–õ–û–•–û: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ "Removing initial loading" –±–µ–∑ –∑–∞—â–∏—Ç—ã</div>
  </div>

  <div class="test-panel">
    <h2>–õ–æ–≥–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</h2>
    <div id="testLog" class="log">Production —Ç–µ—Å—Ç–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ v1.5.8 –≥–æ—Ç–æ–≤...
–û–∂–∏–¥–∞–µ–º: –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ–∫–∞–∑ loading, –±—ã—Å—Ç—Ä–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ, –ù–ï–¢ –º–µ—Ä—Ü–∞–Ω–∏—è
GitHub Pages –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ push...

</div>
    <button onclick="clearLog()">–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏</button>
  </div>

  <script>
    const testLog = document.getElementById('testLog');
    let reloadCount = 0;

    function log(message, type = 'info') {
      const timestamp = new Date().toLocaleTimeString();
      const emoji = type === 'success' ? '‚úÖ' : type === 'error' ? '‚ùå' : type === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è';
      testLog.textContent += `[${timestamp}] ${emoji} ${message}\n`;
      testLog.scrollTop = testLog.scrollHeight;
    }

    function openProduction() {
      log('üöÄ –ó–∞–≥—Ä—É–∂–∞–µ–º Production –≤–µ—Ä—Å–∏—é (GitHub Pages)...', 'success');
      const frame = document.getElementById('appFrame');
      frame.src = 'https://electro-interfaces.github.io/tradeframe-builder/';

      log('üëÅÔ∏è –í–ù–ò–ú–ê–ù–ò–ï: –°–ª–µ–¥–∏—Ç–µ –∑–∞ loading —ç–∫—Ä–∞–Ω–æ–º - –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –û–î–ò–ù —Ä–∞–∑!', 'warning');
      log('‚è±Ô∏è –û–∂–∏–¥–∞–µ–º: –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ loading –∑–∞ 100-300–º—Å', 'info');

      setTimeout(() => {
        log('üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º: –ù–ï–¢ –ª–∏ –º–µ—Ä—Ü–∞–Ω–∏—è loading —ç–∫—Ä–∞–Ω–∞?', 'warning');
      }, 1000);

      setTimeout(() => {
        log('üéØ –ï—Å–ª–∏ PWA installer –ø–æ—è–≤–∏–ª—Å—è - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç!', 'success');
      }, 3000);
    }

    function openLocal() {
      log('üíª –ó–∞–≥—Ä—É–∂–∞–µ–º Local –≤–µ—Ä—Å–∏—é –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è...', 'info');
      const frame = document.getElementById('appFrame');
      frame.src = 'http://localhost:3003';
      log('üìä –°—Ä–∞–≤–Ω–∏—Ç–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å production –≤–µ—Ä—Å–∏–µ–π', 'info');
    }

    function compareVersions() {
      log('‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π:', 'info');
      log('–°–¢–ê–†–ê–Ø –≤–µ—Ä—Å–∏—è: –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–∫–∞–∑—ã loading —á–µ—Ä–µ–∑ —Ç–µ–º–Ω—ã–π —ç–∫—Ä–∞–Ω', 'warning');
      log('–ù–û–í–ê–Ø –≤–µ—Ä—Å–∏—è (v1.5.8): –û–î–ò–ù –ø–æ–∫–∞–∑ loading, –ø–ª–∞–≤–Ω–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ', 'success');

      // –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
      setTimeout(() => {
        openProduction();
      }, 1000);
    }

    function testMultipleReloads() {
      reloadCount++;
      log(`üîÑ –¢–µ—Å—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–æ–∫ #${reloadCount} (Production)...`, 'warning');

      const frame = document.getElementById('appFrame');
      frame.src = 'about:blank';

      setTimeout(() => {
        frame.src = 'https://electro-interfaces.github.io/tradeframe-builder/';
        log(`üì± –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ #${reloadCount} - –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å loading`, 'info');
      }, 200);

      if (reloadCount < 5) {
        setTimeout(() => testMultipleReloads(), 3000);
      } else {
        setTimeout(() => {
          log('‚úÖ –¢–µ—Å—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω', 'success');
          log('üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç: Loading –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤–æ –≤—Å–µ—Ö –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞—Ö', 'info');
          reloadCount = 0;
        }, 3000);
      }
    }

    function clearStorage() {
      localStorage.clear();
      sessionStorage.clear();
      log('üóëÔ∏è Storage –æ—á–∏—â–µ–Ω –¥–ª—è —á–∏—Å—Ç–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è', 'success');
    }

    function clearLog() {
      testLog.textContent = '–õ–æ–≥–∏ –æ—á–∏—â–µ–Ω—ã. Production —Ç–µ—Å—Ç–µ—Ä v1.5.8 –≥–æ—Ç–æ–≤...\n';
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –¥–µ–ø–ª–æ—è
    function checkDeployStatus() {
      const deployTime = document.getElementById('deployTime');
      const deployStatus = document.getElementById('deployStatus');

      deployTime.textContent = new Date().toLocaleString();

      // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å GitHub Pages
      fetch('https://electro-interfaces.github.io/tradeframe-builder/', { mode: 'no-cors' })
        .then(() => {
          deployStatus.textContent = '‚úÖ GitHub Pages –∞–∫—Ç–∏–≤–µ–Ω';
          deployStatus.style.color = '#00ff88';
        })
        .catch(() => {
          deployStatus.textContent = '‚è≥ GitHub Pages –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è...';
          deployStatus.style.color = '#ff9900';
        });
    }

    // –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ iframe
    const frame = document.getElementById('appFrame');
    frame.addEventListener('load', function() {
      log('üì± Iframe –∑–∞–≥—Ä—É–∂–µ–Ω - –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π', 'success');
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    window.onload = function() {
      log('üöÄ Production —Ç–µ—Å—Ç–µ—Ä –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è loading v1.5.8 –≥–æ—Ç–æ–≤!', 'success');
      log('üì¶ –î–µ–ø–ª–æ–π: e43ebf9 - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–µ—Ä—Ü–∞–Ω–∏—è loading —ç–∫—Ä–∞–Ω–∞', 'info');
      log('üéØ –¶–µ–ª—å: –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô –ø–æ–∫–∞–∑ loading –±–µ–∑ –º–µ—Ä—Ü–∞–Ω–∏—è', 'info');
      log('üìã –ù–∞—á–Ω–∏—Ç–µ —Å –∫–Ω–æ–ø–∫–∏ "Production (GitHub Pages)"', 'info');

      checkDeployStatus();
    };
  </script>
</body>
</html>