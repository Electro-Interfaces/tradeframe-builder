<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–¢–µ—Å—Ç –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ PWA installer v1.5.7</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #0f0f23;
      color: #cccccc;
    }
    .test-panel {
      background: #1a1a35;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      border: 1px solid #333366;
    }
    .app-frame {
      width: 100%;
      height: 600px;
      border: 2px solid #00ff00;
      border-radius: 8px;
      background: #000;
    }
    .controls {
      display: flex;
      gap: 10px;
      margin: 10px 0;
      flex-wrap: wrap;
    }
    button {
      background: #0066ff;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover { background: #0052cc; }
    .success { background: #00cc00; }
    .warning { background: #ffaa00; color: #000; }
    .danger { background: #cc0000; }
    .info { background: #00aaff; }
    .status {
      padding: 10px 15px;
      border-radius: 6px;
      margin: 8px 0;
      font-size: 14px;
    }
    .log {
      background: #000011;
      color: #00ff00;
      padding: 15px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      max-height: 350px;
      overflow-y: auto;
      white-space: pre-wrap;
      border: 1px solid #003366;
    }
    .changes-list {
      background: #001122;
      padding: 15px;
      border-radius: 6px;
      border-left: 4px solid #00ff00;
    }
    .changes-list li {
      margin: 5px 0;
      color: #00ff00;
    }
  </style>
</head>
<body>
  <h1>üöÄ –¢–µ—Å—Ç –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ PWA installer v1.5.7</h1>

  <div class="test-panel">
    <h2>üéØ –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏:</h2>
    <div class="changes-list">
      <ul>
        <li><strong>–¢–∞–π–º–∞—É—Ç—ã —Å–æ–∫—Ä–∞—â–µ–Ω—ã:</strong> 3‚Üí1 —Å–µ–∫ –¥–ª—è –ø—Ä–æ–º–ø—Ç–∞, 5‚Üí2 —Å–µ–∫ –¥–ª—è fallback</li>
        <li><strong>–£–±—Ä–∞–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –±—Ä–∞—É–∑–µ—Ä–∞–º:</strong> –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–ª—è –í–°–ï–• –±—Ä–∞—É–∑–µ—Ä–æ–≤</li>
        <li><strong>–£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞:</strong> —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ !isInstalled –≤–º–µ—Å—Ç–æ —Å–ª–æ–∂–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π</li>
        <li><strong>–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –ø–æ–∫–∞–∑:</strong> PWA –ø—Ä–æ–º–ø—Ç –¥–ª—è Chrome, Firefox, Safari, –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤</li>
        <li><strong>–£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong> "–ê–ì–†–ï–°–°–ò–í–ù–û –ø–æ–∫–∞–∑—ã–≤–∞–µ–º fallback –¥–ª—è –í–°–ï–• –±—Ä–∞—É–∑–µ—Ä–æ–≤"</li>
      </ul>
    </div>
  </div>

  <div class="test-panel">
    <h2>–ß—Ç–æ –æ–∂–∏–¥–∞—Ç—å –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:</h2>
    <div class="status success">‚úÖ Chrome: PWA installer –ø–æ—è–≤–∏—Ç—Å—è —á–µ—Ä–µ–∑ 1-2 —Å–µ–∫—É–Ω–¥—ã –≤–º–µ—Å—Ç–æ "–±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç"</div>
    <div class="status success">‚úÖ Firefox: –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –ø–æ–∫–∞–∑ PWA –ø—Ä–æ–º–ø—Ç–∞</div>
    <div class="status success">‚úÖ Safari: –ü–æ–∫–∞–∑ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –Ω–∞ –¥–æ–º–∞—à–Ω–∏–π —ç–∫—Ä–∞–Ω</div>
    <div class="status success">‚úÖ Yandex Browser: –£—Å–∫–æ—Ä–µ–Ω–Ω—ã–π –ø–æ–∫–∞–∑ PWA installer</div>
    <div class="status warning">‚ö° –í—Å–µ –±—Ä–∞—É–∑–µ—Ä—ã: –ù–∞–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ PWA –ø—Ä–æ–º–ø—Ç–∞</div>
  </div>

  <div class="test-panel">
    <h2>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:</h2>
    <div class="controls">
      <button onclick="openApp()" class="success">üöÄ –û—Ç–∫—Ä—ã—Ç—å TradeFrame (prod)</button>
      <button onclick="openAppNewWindow()" class="info">üîó –û—Ç–∫—Ä—ã—Ç—å –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ</button>
      <button onclick="clearStorage()" class="warning">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å Storage</button>
      <button onclick="testChrome()" class="info">‚ö° –¢–µ—Å—Ç Chrome PWA</button>
      <button onclick="testMobile()" class="success">üì± –¢–µ—Å—Ç –º–æ–±–∏–ª—å–Ω—ã–π</button>
    </div>
  </div>

  <div class="test-panel">
    <h2>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Chrome:</h2>
    <ol>
      <li>–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ (–∫–Ω–æ–ø–∫–∞ –≤—ã—à–µ)</li>
      <li>–î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≥—Ä—É–∑–∫–∏ (—Å–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏)</li>
      <li>–ß–µ—Ä–µ–∑ 1-2 —Å–µ–∫—É–Ω–¥—ã –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è PWA installer</li>
      <li>–ï—Å–ª–∏ –Ω–µ –ø–æ—è–≤–∏–ª—Å—è - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞</li>
      <li>–î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ "–ê–ì–†–ï–°–°–ò–í–ù–û –ø–æ–∫–∞–∑—ã–≤–∞–µ–º fallback –¥–ª—è –í–°–ï–• –±—Ä–∞—É–∑–µ—Ä–æ–≤"</li>
    </ol>
  </div>

  <div class="test-panel">
    <h2>–í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:</h2>
    <iframe id="appFrame" class="app-frame" src="about:blank"></iframe>
  </div>

  <div class="test-panel">
    <h2>–õ–æ–≥–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</h2>
    <div id="testLog" class="log">–õ–æ–≥–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ PWA installer...
–û–∂–∏–¥–∞–µ–º: "–ê–ì–†–ï–°–°–ò–í–ù–û –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ–º–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–ª—è –í–°–ï–• –±—Ä–∞—É–∑–µ—Ä–æ–≤" —á–µ—Ä–µ–∑ 1 —Å–µ–∫
–û–∂–∏–¥–∞–µ–º: "–ê–ì–†–ï–°–°–ò–í–ù–û –ø–æ–∫–∞–∑—ã–≤–∞–µ–º fallback –¥–ª—è –í–°–ï–• –±—Ä–∞—É–∑–µ—Ä–æ–≤" —á–µ—Ä–µ–∑ 2 —Å–µ–∫

</div>
    <button onclick="clearLog()">–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏</button>
  </div>

  <script>
    const testLog = document.getElementById('testLog');

    function log(message, type = 'info') {
      const timestamp = new Date().toLocaleTimeString();
      const emoji = type === 'success' ? '‚úÖ' : type === 'error' ? '‚ùå' : type === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è';
      testLog.textContent += `[${timestamp}] ${emoji} ${message}\n`;
      testLog.scrollTop = testLog.scrollHeight;
    }

    function openApp() {
      log('üöÄ –ó–∞–≥—Ä—É–∂–∞–µ–º TradeFrame —Å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º PWA installer...', 'info');
      const frame = document.getElementById('appFrame');
      frame.src = 'https://electro-interfaces.github.io/tradeframe-builder/';

      setTimeout(() => {
        log('‚è∞ –ß–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É –¥–æ–ª–∂–µ–Ω —Å—Ä–∞–±–æ—Ç–∞—Ç—å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π PWA –ø—Ä–æ–º–ø—Ç...', 'info');
      }, 1000);

      setTimeout(() => {
        log('‚ö° –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –¥–æ–ª–∂–µ–Ω —Å—Ä–∞–±–æ—Ç–∞—Ç—å fallback –¥–ª—è –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤...', 'warning');
      }, 2000);

      setTimeout(() => {
        log('üîç –ü—Ä–æ–≤–µ—Ä—å—Ç–µ - –ø–æ—è–≤–∏–ª—Å—è –ª–∏ PWA installer –≤ iframe?', 'success');
      }, 3000);
    }

    function openAppNewWindow() {
      log('üîó –û—Ç–∫—Ä—ã–≤–∞–µ–º TradeFrame –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Chrome...', 'info');
      const newWindow = window.open('https://electro-interfaces.github.io/tradeframe-builder/', '_blank');
      log('‚úÖ –ù–æ–≤–æ–µ –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ. –°–ª–µ–¥–∏—Ç–µ –∑–∞ PWA installer —á–µ—Ä–µ–∑ 1-2 —Å–µ–∫—É–Ω–¥—ã!', 'success');
      log('üéØ –í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: "–ê–ì–†–ï–°–°–ò–í–ù–û –ø–æ–∫–∞–∑—ã–≤–∞–µ–º fallback –¥–ª—è –í–°–ï–• –±—Ä–∞—É–∑–µ—Ä–æ–≤"', 'info');
    }

    function clearStorage() {
      localStorage.clear();
      sessionStorage.clear();
      log('üóëÔ∏è localStorage –∏ sessionStorage –æ—á–∏—â–µ–Ω—ã –¥–ª—è —á–∏—Å—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞', 'success');
    }

    function testChrome() {
      log('üîç –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è Chrome PWA:', 'info');
      log('1. Chrome –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å PWA installer —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É', 'info');
      log('2. –ï—Å–ª–∏ beforeinstallprompt –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª - fallback —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã', 'info');
      log('3. –£–±—Ä–∞–Ω—ã –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –±—Ä–∞—É–∑–µ—Ä–∞–º', 'success');
      openAppNewWindow();
    }

    function testMobile() {
      log('üì± –¢–µ—Å—Ç –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤:', 'info');
      log('- –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –ø–æ–∫–∞–∑ –¥–ª—è –≤—Å–µ—Ö –º–æ–±–∏–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤', 'info');
      log('- –£—Å–∫–æ—Ä–µ–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã: 1 —Å–µ–∫ ‚Üí –ø—Ä–æ–º–ø—Ç, 2 —Å–µ–∫ ‚Üí fallback', 'success');
      openApp();
    }

    function clearLog() {
      testLog.textContent = '–õ–æ–≥–∏ –æ—á–∏—â–µ–Ω—ã. –¢–µ—Å—Ç–∏—Ä—É–µ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π PWA installer v1.5.7...\n';
    }

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    window.onload = function() {
      log('üöÄ –¢–µ—Å—Ç–µ—Ä –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ PWA installer v1.5.7 –≥–æ—Ç–æ–≤!', 'success');
      log('üéØ –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è: —Ç–∞–π–º–∞—É—Ç—ã 1/2 —Å–µ–∫, —É–±—Ä–∞–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–æ–≤', 'info');
      log('‚ö° Chrome —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å PWA installer –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ!', 'success');
      log('üìã –ù–∞–∂–º–∏—Ç–µ "–û—Ç–∫—Ä—ã—Ç—å –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ" –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Chrome', 'info');
    };
  </script>
</body>
</html>