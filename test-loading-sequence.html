<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–¢–µ—Å—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏ TradeFrame</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .test-section {
      background: white;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .status {
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
    }
    .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
    .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    .warning { background: #fff3cd; color: #856404; border: 1px solid #ffeaa7; }
    .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
    button {
      background: #007bff;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      margin: 5px;
    }
    button:hover { background: #0056b3; }
    #console-output {
      background: #1a1a1a;
      color: #00ff00;
      padding: 15px;
      border-radius: 4px;
      font-family: monospace;
      font-size: 12px;
      height: 200px;
      overflow-y: auto;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <h1>üîß –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ TradeFrame v1.5.7</h1>

  <div class="test-section">
    <h2>1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π</h2>
    <div class="status success">‚úÖ X-Frame-Options meta tag —É–¥–∞–ª–µ–Ω –∏–∑ index.html</div>
    <div class="status success">‚úÖ CSP frame-ancestors –¥–æ–±–∞–≤–ª–µ–Ω –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</div>
    <div class="status success">‚úÖ –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è React –∫–æ–Ω—Ç–µ–Ω—Ç–∞</div>
    <div class="status success">‚úÖ PWA installer –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã</div>
    <div class="status success">‚úÖ Loading –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å fallback –º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏</div>
  </div>

  <div class="test-section">
    <h2>2. –¢–µ—Å—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏</h2>
    <button onclick="openDevApp()">üöÄ –û—Ç–∫—Ä—ã—Ç—å Dev-–≤–µ—Ä—Å–∏—é (localhost:3002)</button>
    <button onclick="testLoadingSequence()">‚ö° –¢–µ—Å—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏</button>
    <button onclick="testPWAInstaller()">üì± –¢–µ—Å—Ç PWA installer</button>
    <button onclick="clearStorage()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å localStorage</button>
  </div>

  <div class="test-section">
    <h2>3. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–Ω—Å–æ–ª–∏</h2>
    <div id="console-output">–õ–æ–≥–∏ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å...</div>
    <button onclick="clearConsole()">–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏</button>
  </div>

  <div class="test-section">
    <h2>4. –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
    <ol>
      <li>–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ</li>
      <li>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ X-Frame-Options –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏</li>
      <li>–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ loading –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏—Å—á–µ–∑–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ</li>
      <li>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–µ–º–Ω—ã–π —ç–∫—Ä–∞–Ω –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞</li>
      <li>–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ PWA installer –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã</li>
    </ol>
  </div>

  <script>
    let consoleOutput = document.getElementById('console-output');

    function log(message) {
      const timestamp = new Date().toLocaleTimeString();
      consoleOutput.textContent += `[${timestamp}] ${message}\n`;
      consoleOutput.scrollTop = consoleOutput.scrollHeight;
    }

    function openDevApp() {
      log('üöÄ –û—Ç–∫—Ä—ã–≤–∞–µ–º dev-–≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ localhost:3002');
      window.open('http://localhost:3002', '_blank');
    }

    function testLoadingSequence() {
      log('‚ö° –ù–∞—á–∏–Ω–∞–µ–º —Ç–µ—Å—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏...');
      log('1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ initial-loading —ç–ª–µ–º–µ–Ω—Ç–∞');
      log('2. –ü—Ä–æ–≤–µ—Ä—è–µ–º loading indicator –∞–Ω–∏–º–∞—Ü–∏—é');
      log('3. –ü—Ä–æ–≤–µ—Ä—è–µ–º —É–¥–∞–ª–µ–Ω–∏–µ loading –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ React –∫–æ–Ω—Ç–µ–Ω—Ç–∞');

      // –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
      const testWindow = window.open('http://localhost:3002', '_blank');

      // –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ postMessage (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
      setTimeout(() => {
        log('üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ loading sequence –∑–∞–≤–µ—Ä—à–µ–Ω (3 —Å–µ–∫)');
      }, 3000);
    }

    function testPWAInstaller() {
      log('üì± –¢–µ—Å—Ç–∏—Ä—É–µ–º PWA installer timing...');
      log('‚úÖ PWA installer –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ React');
      const testWindow = window.open('http://localhost:3002', '_blank');
    }

    function clearStorage() {
      localStorage.clear();
      sessionStorage.clear();
      log('üóëÔ∏è localStorage –∏ sessionStorage –æ—á–∏—â–µ–Ω—ã');
    }

    function clearConsole() {
      consoleOutput.textContent = '';
      log('–õ–æ–≥–∏ –æ—á–∏—â–µ–Ω—ã, –Ω–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ...');
    }

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    window.onload = function() {
      log('üîß –¢–µ—Å—Ç–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ TradeFrame v1.5.7 –≥–æ—Ç–æ–≤');
      log('üìã –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:');
      log('  ‚úÖ X-Frame-Options meta tag —É–¥–∞–ª–µ–Ω');
      log('  ‚úÖ CSP frame-ancestors –¥–æ–±–∞–≤–ª–µ–Ω');
      log('  ‚úÖ Loading detection —É–ª—É—á—à–µ–Ω');
      log('  ‚úÖ PWA installer –∑–∞–¥–µ—Ä–∂–∫–∞ 3 —Å–µ–∫');
      log('');
      log('üéØ –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!');
    };
  </script>
</body>
</html>