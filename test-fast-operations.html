<!DOCTYPE html>
<html>
<head>
    <title>–¢–µ—Å—Ç –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π</title>
</head>
<body>
    <h1>–¢–µ—Å—Ç –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π</h1>
    <button onclick="testFastLoad()">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±—ã—Å—Ç—Ä—É—é –∑–∞–≥—Ä—É–∑–∫—É</button>
    <div id="result"></div>

    <script>
        async function testFastLoad() {
            const startTime = Date.now();
            document.getElementById('result').innerHTML = '‚ö° –ó–∞–≥—Ä—É–∑–∫–∞...';
            
            try {
                const response = await fetch('https://tohtryzyffcebtyvkxwh.supabase.co/rest/v1/operations?select=id,transaction_id,operation_type,status,start_time,trading_point_id,trading_point_name,fuel_type,quantity,price,total_cost,payment_method&order=start_time.desc&limit=1000', {
                    headers: {
                        'apikey': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRvaHRyeXp5ZmZjZWJ0eXZreHdoIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1Njg3NTQ0OCwiZXhwIjoyMDcyNDUxNDQ4fQ.kN6uF9YhJzbzu2ugHRQCyzuNOwawsTDtwelGO0uCjyY',
                        'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRvaHRyeXp5ZmZjZWJ0eXZreHdoIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1Njg3NTQ0OCwiZXhwIjoyMDcyNDUxNDQ4fQ.kN6uF9YhJzbzu2ugHRQCyzuNOwawsTDtwelGO0uCjyY'
                    }
                });
                
                const data = await response.json();
                const endTime = Date.now();
                const duration = endTime - startTime;
                
                document.getElementById('result').innerHTML = `
                    ‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${data.length} –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞ ${duration}–º—Å<br>
                    üìä –ü–µ—Ä–≤—ã–µ 3 –æ–ø–µ—Ä–∞—Ü–∏–∏:<br>
                    ${data.slice(0, 3).map(op => `${op.transaction_id} - ${op.fuel_type} - ${op.total_cost}‚ÇΩ`).join('<br>')}
                `;
                
            } catch (error) {
                document.getElementById('result').innerHTML = `‚ùå –û—à–∏–±–∫–∞: ${error.message}`;
            }
        }
    </script>
</body>
</html>