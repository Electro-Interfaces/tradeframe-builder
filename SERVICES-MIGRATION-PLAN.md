# üìã –ü–õ–ê–ù –ú–ò–ì–†–ê–¶–ò–ò –í–°–ï–• –°–ï–†–í–ò–°–û–í –ù–ê –¶–ï–ù–¢–†–ê–õ–ò–ó–û–í–ê–ù–ù–£–Æ –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Æ

## üéØ –¶–ï–õ–¨
–ü—Ä–∏–≤–µ—Å—Ç–∏ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∫ –µ–¥–∏–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "–û–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏" (`apiConfigServiceDB`) –∏ –∏—Å–∫–ª—é—á–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É.

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### ‚úÖ –£–∂–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:
- `operationsService.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `apiConfigServiceDB.isMockMode()`
- `pricesService.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `apiConfigServiceDB.isMockMode()`  
- `networksService.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ Supabase
- `tanksService.ts` - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω –Ω–∞ tanksServiceSupabase
- `equipment.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `apiConfigServiceDB.getCurrentConnection()`
- `equipmentTypes.ts` - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Supabase

### ‚ùå –¢—Ä–µ–±—É—é—Ç –º–∏–≥—Ä–∞—Ü–∏–∏:
**–†–∞–±–æ—Ç–∞—é—Ç –ª–æ–∫–∞–ª—å–Ω–æ:** 20 —Å–µ—Ä–≤–∏—Å–æ–≤  
**–ù–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:** 25 —Å–µ—Ä–≤–∏—Å–æ–≤  
**–£—Å—Ç–∞—Ä–µ–≤—à–∏–µ/–¥—É–±–ª–∏—Ä—É—é—â–∏–µ:** 15 —Å–µ—Ä–≤–∏—Å–æ–≤

---

## üöÄ –ü–õ–ê–ù –ú–ò–ì–†–ê–¶–ò–ò (–ü–û–≠–¢–ê–ü–ù–û)

### –≠–¢–ê–ü 1: –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø –ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô**

#### 1.1 –ú–∏–≥—Ä–∞—Ü–∏—è authService.ts
**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç localStorage + WebCrypto
**–ü–ª–∞–Ω:**
- [ ] –°–æ–∑–¥–∞—Ç—å `authSupabaseService.ts` —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Supabase Auth
- [ ] –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `authService.ts` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `apiConfigServiceDB`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ mock/database —Ä–µ–∂–∏–º–æ–≤
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å WebCrypto –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

#### 1.2 –ú–∏–≥—Ä–∞—Ü–∏—è usersService.ts
**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç PersistentStorage (localStorage)
**–ü–ª–∞–Ω:**
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º `usersSupabaseService.ts`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ `apiConfigServiceDB.isMockMode()`
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å fallback –Ω–∞ localStorage –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ë–î
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### –≠–¢–ê–ü 2: –°–û–û–ë–©–ï–ù–ò–Ø –ò –ö–û–ú–ú–£–ù–ò–ö–ê–¶–ò–ò
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô**

#### 2.1 –ú–∏–≥—Ä–∞—Ü–∏—è messagesService.ts
**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç PersistentStorage (localStorage)
**–ü–ª–∞–Ω:**
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º `messagesSupabaseService.ts`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ mock/database —á–µ—Ä–µ–∑ `apiConfigServiceDB`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Supabase —Å—Ö–µ–º–æ–π
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage –≤ Supabase

#### 2.2 –ú–∏–≥—Ä–∞—Ü–∏—è telegramService.ts
**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** Telegram API + localStorage –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
**–ü–ª–∞–Ω:**
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram —Å `systemConfigService`
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `apiConfigServiceDB` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å Telegram Bot API
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ webhook –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –≠–¢–ê–ü 3: –ö–û–ú–ê–ù–î–´ –ò –®–ê–ë–õ–û–ù–´
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô**

#### 3.1 –ú–∏–≥—Ä–∞—Ü–∏—è commandsService.ts
**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç PersistentStorage (localStorage)
**–ü–ª–∞–Ω:**
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º `commandTemplatesSupabase.ts`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ mock/database —á–µ—Ä–µ–∑ `apiConfigServiceDB`
- [ ] –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —à–∞–±–ª–æ–Ω–æ–≤ –∫–æ–º–∞–Ω–¥ –≤ Supabase
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

#### 3.2 –ú–∏–≥—Ä–∞—Ü–∏—è commandTemplates.ts
**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç PersistentStorage (localStorage)
**–ü–ª–∞–Ω:**
- [ ] –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å `commandTemplatesSupabase.ts`
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `apiConfigServiceDB` –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–æ–≤
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏

### –≠–¢–ê–ü 4: –°–ò–°–¢–ï–ú–ù–´–ï –¢–ò–ü–´ –ò –ö–û–ú–ü–û–ù–ï–ù–¢–´
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô**

#### 4.1 –ú–∏–≥—Ä–∞—Ü–∏—è systemTypesService.ts
**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ú–æ–∫–∏ + localStorage
**–ü–ª–∞–Ω:**
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º `systemTypesSupabaseService.ts`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `apiConfigServiceDB.isMockMode()`
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ Supabase
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

#### 4.2 –ú–∏–≥—Ä–∞—Ü–∏—è componentSystemTypesService.ts
**–ü–ª–∞–Ω:**
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `componentsSupabase.ts`
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- [ ] –£–±—Ä–∞—Ç—å –ø—Ä—è–º—É—é —Ä–∞–±–æ—Ç—É —Å localStorage

#### 4.3 –ú–∏–≥—Ä–∞—Ü–∏—è componentStatusService.ts
**–ü–ª–∞–Ω:**
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `componentStatusSupabaseService.ts`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å–Ω—É—é –ª–æ–≥–∏–∫—É

### –≠–¢–ê–ü 5: –†–ê–ë–û–ß–ò–ï –ü–†–û–¶–ï–°–°–´ –ò –ò–ù–°–¢–†–£–ö–¶–ò–ò
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô**

#### 5.1 –ú–∏–≥—Ä–∞—Ü–∏—è workflowsService.ts
**–ü–ª–∞–Ω:**
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `workflowsSupabaseService.ts`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `apiConfigServiceDB`
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow

#### 5.2 –ú–∏–≥—Ä–∞—Ü–∏—è instructionsService.ts
**–ü–ª–∞–Ω:**
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `instructionsSupabaseService.ts`
- [ ] –î–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `apiConfigServiceDB`
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### –≠–¢–ê–ü 6: –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–Ø–ú–´–• –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ô –ö SUPABASE
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô**

#### 6.1 –ò—Å–ø—Ä–∞–≤–∏—Ç—å tradingNetworkConfigService.ts
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π localStorage.getItem()
**–ü–ª–∞–Ω:**
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `systemConfigService`
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `apiConfigServiceDB` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

#### 6.2 –ò—Å–ø—Ä–∞–≤–∏—Ç—å tradingPointsService.ts
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Supabase
**–ü–ª–∞–Ω:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `apiConfigServiceDB`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å mock —Ä–µ–∂–∏–º –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

#### 6.3 –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å Supabase —Å–µ—Ä–≤–∏—Å—ã
**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ *SupabaseService.ts –º–∏–Ω—É—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
**–ü–ª–∞–Ω:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É `apiConfigServiceDB.getCurrentConnection()`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã
- [ ] –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

### –≠–¢–ê–ü 7: –û–ß–ò–°–¢–ö–ê –ò –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–ò–ó–ö–ò–ô**

#### 7.1 –£–¥–∞–ª–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ñ–∞–π–ª—ã
- [ ] `*Service.old.ts` —Ñ–∞–π–ª—ã
- [ ] `*Service-old.ts` —Ñ–∞–π–ª—ã
- [ ] `*Service.original.ts` —Ñ–∞–π–ª—ã
- [ ] `*Service.clean.ts` —Ñ–∞–π–ª—ã

#### 7.2 –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [ ] –û–±–Ω–æ–≤–∏—Ç—å CLAUDE.md
- [ ] –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ

---

## üõ†Ô∏è –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:
1. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –≤—Å–µ —á–µ—Ä–µ–∑ `apiConfigServiceDB`
2. **Graceful fallback** - localStorage –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ë–î
3. **–†–µ–∂–∏–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è** - mock/database —á–µ—Ä–µ–∑ `isMockMode()`
4. **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
5. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö API

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à–∞–±–ª–æ–Ω —Å–µ—Ä–≤–∏—Å–∞:
```typescript
import { apiConfigServiceDB } from './apiConfigServiceDB';
import { supabaseSpecificService } from './supabaseSpecificService';
import { PersistentStorage } from '@/utils/persistentStorage';

class StandardService {
  async initialize() {
    await apiConfigServiceDB.initialize();
  }

  async getData() {
    try {
      if (await apiConfigServiceDB.isMockMode()) {
        // Fallback –Ω–∞ localStorage
        return PersistentStorage.getItem('key') || [];
      } else {
        // –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
        return await supabaseSpecificService.getData();
      }
    } catch (error) {
      // Graceful fallback
      console.warn('Database unavailable, falling back to localStorage');
      return PersistentStorage.getItem('key') || [];
    }
  }
}
```

---

## üìÖ –í–†–ï–ú–ï–ù–ù–´–ï –†–ê–ú–ö–ò

### –ù–µ–¥–µ–ª—è 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (authService, usersService)
- TradingNetworkConfig –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –ë–∞–∑–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ù–µ–¥–µ–ª—è 2: –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- –°–æ–æ–±—â–µ–Ω–∏—è –∏ –∫–æ–º–∞–Ω–¥—ã
- –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç–∏–ø—ã
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ù–µ–¥–µ–ª—è 3: –ü—Ä—è–º—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Supabase
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è *SupabaseService.ts
- TradingPoints –∏ –¥—Ä—É–≥–∏–µ
- –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ù–µ–¥–µ–ª—è 4: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è
- –û—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## ‚ö†Ô∏è –†–ò–°–ö–ò –ò –ú–ï–†–´ –°–ù–ò–ñ–ï–ù–ò–Ø

### –†–∏—Å–∫ 1: –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
**–ú–µ—Ä–∞:** –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ localStorage –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –º–∏–≥—Ä–∞—Ü–∏–µ–π

### –†–∏—Å–∫ 2: –ù–∞—Ä—É—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
**–ú–µ—Ä–∞:** –ü–æ—ç—Ç–∞–ø–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### –†–∏—Å–∫ 3: –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
**–ú–µ—Ä–∞:** –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î

### –†–∏—Å–∫ 4: –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Supabase
**–ú–µ—Ä–∞:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π fallback –Ω–∞ localStorage

---

## ‚úÖ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

1. –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `apiConfigServiceDB` –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
2. –ù–µ—Ç –ø—Ä—è–º–æ–π —Ä–∞–±–æ—Ç—ã —Å localStorage (–∫—Ä–æ–º–µ fallback)
3. –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ mock/database
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
5. –ü—Ä–æ—Ö–æ–¥—è—Ç –≤—Å–µ —Ç–µ—Å—Ç—ã
6. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "–û–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏"

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ `apiConfigServiceDB`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤ —Ä–∞–∑–¥–µ–ª–µ "–û–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏"
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å fallback —Ä–µ–∂–∏–º –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
4. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-09-05  
**–°—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω —Å–æ–∑–¥–∞–Ω, –≥–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** Claude Code Agent