<!DOCTYPE html>
<html>
<head>
    <title>Test Instructions Integration</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test { margin: 10px 0; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
        .success { background: #e8f5e8; border-color: #4caf50; }
        .error { background: #fde8e8; border-color: #f44336; }
        .info { background: #e3f2fd; border-color: #2196f3; }
        pre { background: #f4f4f4; padding: 10px; overflow: auto; max-height: 200px; }
        .button { 
            background: #2196f3; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            margin: 5px; 
            border-radius: 5px; 
            cursor: pointer;
        }
        .button:hover { background: #1976d2; }
    </style>
</head>
<body>
    <h1>üîß Test Instructions Integration</h1>
    <div class="test info">
        <h3>üìù Instructions</h3>
        <p>1. –û—Ç–∫—Ä–æ–π—Ç–µ <a href="http://localhost:3001/admin/instructions" target="_blank">—Ä–∞–∑–¥–µ–ª –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π</a></p>
        <p>2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö: localStorage ‚Üî Supabase Database</p>
        <p>3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage –≤ Supabase</p>
        <p>4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤</p>
    </div>

    <div class="test">
        <h3>üß™ Test Scenarios</h3>
        <button class="button" onclick="testLocalStorage()">Test localStorage Mode</button>
        <button class="button" onclick="testSupabaseMode()">Test Supabase Mode</button>
        <button class="button" onclick="testMigration()">Test Migration</button>
        <button class="button" onclick="checkConsole()">Check Console</button>
    </div>

    <div id="results"></div>

    <script>
        const results = document.getElementById('results');
        
        function addResult(title, type, data) {
            const div = document.createElement('div');
            div.className = `test ${type}`;
            div.innerHTML = `
                <h3>${title}</h3>
                <pre>${typeof data === 'string' ? data : JSON.stringify(data, null, 2)}</pre>
            `;
            results.appendChild(div);
        }

        function testLocalStorage() {
            addResult('üì¶ localStorage Mode Test', 'info', 
                '–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:\n' +
                '1. –í —Ä–∞–∑–¥–µ–ª–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∞–∫—Ç–∏–≤–µ–Ω —Ä–µ–∂–∏–º "localStorage"\n' +
                '2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–µ–º—ã –∏–∑ localStorage\n' +
                '3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å ~22 —Ç–µ–º—ã\n' +
                '4. –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ CRUD –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å localStorage'
            );
        }

        function testSupabaseMode() {
            addResult('üóÑÔ∏è Supabase Mode Test', 'info',
                '–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:\n' +
                '1. –í —Ä–∞–∑–¥–µ–ª–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ "Supabase Database"\n' +
                '2. –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ –ø—É—Å—Ç–∞—è - —É–≤–∏–¥–∏—Ç–µ 0 —Ç–µ–º\n' +
                '3. –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã - —É–≤–∏–¥–∏—Ç–µ —Ç–µ–º—ã –∏–∑ –ë–î\n' +
                '4. –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ CRUD –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å Supabase\n' +
                '5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç'
            );
        }

        function testMigration() {
            addResult('üìä Migration Test', 'info',
                '–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:\n' +
                '1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ localStorage —Ä–µ–∂–∏–º–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ\n' +
                '2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Supabase"\n' +
                '3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏\n' +
                '4. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ Supabase —Ä–µ–∂–∏–º\n' +
                '5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø–æ—è–≤–∏–ª–∏—Å—å –≤ –ë–î —Ä–µ–∂–∏–º–µ'
            );
        }

        function checkConsole() {
            const logs = [
                'üîç –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:',
                '',
                '‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã:',
                '‚Ä¢ "üîß Supabase Service Client Configuration" - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ',
                '‚Ä¢ "‚úÖ Database connection successful" - –ë–î –¥–æ—Å—Ç—É–ø–Ω–∞', 
                '‚Ä¢ "üöÄ –ù–∞—á–∏–Ω–∞–µ–º –º–∏–≥—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –≤ page_help..." - –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞—á–∞–ª–∞—Å—å',
                '‚Ä¢ "‚úÖ –°–æ–∑–¥–∞–Ω–æ: /route" - –∑–∞–ø–∏—Å–∏ —Å–æ–∑–¥–∞–Ω—ã',
                '‚Ä¢ "üéâ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!" - –º–∏–≥—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞',
                '',
                '‚ùå –û—à–∏–±–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å:',
                '‚Ä¢ "Error fetching topics" - –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ –ë–î',
                '‚Ä¢ "Database error" - –ø—Ä–æ–±–ª–µ–º–∞ —Å Supabase',
                '‚Ä¢ "PGRST205" - —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞',
                '‚Ä¢ Import errors - –ø—Ä–æ–±–ª–µ–º—ã —Å –º–æ–¥—É–ª—è–º–∏',
                '',
                'üîß –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:',
                '‚Ä¢ "üîç –ò—â–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –¥–ª—è: ..." - –ø–æ–∏—Å–∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π',
                '‚Ä¢ "‚úÖ –ù–∞–π–¥–µ–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: ..." - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∞–π–¥–µ–Ω–∞',
                '‚Ä¢ "‚ùå –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –¥–ª—è: ..." - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞'
            ];
            
            addResult('üñ•Ô∏è Console Check Guide', 'info', logs.join('\n'));
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
        function checkAppState() {
            const checks = {
                'App URL': window.location.href,
                'User Agent': navigator.userAgent.substring(0, 50) + '...',
                'Local Storage Keys': Object.keys(localStorage).filter(k => k.includes('instruction')),
                'Current Time': new Date().toISOString()
            };
            
            addResult('üìã Current App State', 'info', checks);
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        checkAppState();
        
        // –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
        addResult('üéØ Quick Start', 'success',
            '–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!\n\n' +
            '1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ\n' +
            '2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –≤—ã—à–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π\n' +
            '3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫\n' +
            '4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É localStorage ‚Üî Supabase'
        );
    </script>
</body>
</html>