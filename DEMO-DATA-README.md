# Демо данные сети АЗС - Август 2025

Этот набор содержит реалистичные демо данные операций и транзакций сети АЗС за август 2025 года для тестирования и демонстрации системы управления торговой сетью.

## Содержание

### Основные файлы:
- `august-2025-demo-data.json` - Основной файл с демо данными (243 операции)
- `generate-august-demo.js` - Генератор демо данных
- `restore-demo-database.js` - Скрипт восстановления базы данных
- `demo-db-export/` - Папка с экспортированными данными для БД

## Структура данных

### Станции АЗС
- **АЗС №1 Центральная** (station_01, номер 77) - базовая активность 110%
- **АЗС №2 Северная** (station_02, номер 78) - базовая активность 90%
- **АЗС №3 Южная** (station_03, номер 79) - базовая активность 100%
- **АЗС №4 Московское шоссе** (station_04, номер 80) - базовая активность 120%
- **АЗС №5 Промзона** (station_05, номер 81) - базовая активность 80%

### Виды топлива и цены
- **АИ-92**: 56.20 руб/л (популярность 35%, средний объем 35л)
- **АИ-95**: 59.80 руб/л (популярность 40%, средний объем 42л)  
- **АИ-98**: 65.40 руб/л (популярность 15%, средний объем 38л)
- **ДТ**: 61.90 руб/л (популярность 8%, средний объем 65л)
- **АИ-100**: 68.50 руб/л (популярность 2%, средний объем 35л)

### Типы операций
- **sale** (88%) - Продажи топлива
- **maintenance** (5%) - Техническое обслуживание
- **inventory** (3%) - Инвентаризация
- **refuel_truck** (4%) - Поставки топлива

### Способы оплаты
- **bank_card** (50%) - Банковские карты
- **cash** (16%) - Наличные
- **fuel_card** (19%) - Топливные карты
- **corporate_card** (7%) - Корпоративные карты
- **contactless** (5%) - Бесконтактная оплата
- **mobile_payment** (3%) - Мобильные платежи

## Реалистичные паттерны

### Временное распределение
- **Утренний пик**: 7:00-9:00 (коэффициент 1.5-2.2)
- **Дневное время**: 10:00-16:00 (коэффициент 1.1-1.6)
- **Вечерний пик**: 17:00-20:00 (коэффициент 1.8-2.3)
- **Ночные часы**: 21:00-6:00 (коэффициент 0.1-0.8)

### Недельные паттерны
- **Понедельник-Пятница**: Повышенная активность (коэффициент 1.0-1.15)
- **Выходные**: Средняя активность (коэффициент 0.85-0.9)

### Сезонные особенности августа
- Период отпусков и дальних поездок
- Увеличенное потребление дизельного топлива
- Средняя активность по сравнению с весенне-осенним периодом

## Статистика сгенерированных данных

- **Всего операций**: 243
- **Общий доход**: 504,762.8 руб
- **Общий объем топлива**: 7,368.8 л
- **Успешных операций**: ~98%
- **Неудачных операций**: ~2%

### Распределение по типам операций
- Продажи: 214 операций
- Обслуживание: 15 операций  
- Инвентаризация: 4 операции
- Поставки топлива: 10 операций

## Использование

### Генерация новых данных
```bash
node generate-august-demo.js
```

### Экспорт в PostgreSQL
```bash
node restore-demo-database.js --outputFormat sql --dbType postgresql
```

### Экспорт в CSV
```bash
node restore-demo-database.js --outputFormat csv
```

### Экспорт во все форматы
```bash
node restore-demo-database.js --outputFormat all
```

## Структура базы данных

### Таблицы
1. **stations** - Информация о станциях АЗС
2. **operations** - Основная таблица операций и транзакций  
3. **fuel_movements** - Движения топлива (продажи, поставки)
4. **inventory_snapshots** - Снимки состояния инвентаря

### Индексы
Созданы оптимальные индексы для:
- Поиска по времени операций
- Фильтрации по станциям
- Группировки по типам топлива
- Агрегации по статусам операций

## Примеры использования в разработке

### Тестирование производительности
```javascript
// Загрузка больших объемов данных
const operations = demoData.operations.filter(op => 
  op.operationType === 'sale' && op.status === 'completed'
);
```

### Тестирование аналитики  
```javascript
// Расчет выручки по станциям
const stationRevenue = {};
operations.forEach(op => {
  if (!stationRevenue[op.tradingPointId]) {
    stationRevenue[op.tradingPointId] = 0;
  }
  stationRevenue[op.tradingPointId] += op.totalCost;
});
```

### Тестирование временных паттернов
```javascript  
// Анализ часовой активности
const hourlyStats = {};
operations.forEach(op => {
  const hour = new Date(op.startTime).getHours();
  hourlyStats[hour] = (hourlyStats[hour] || 0) + 1;
});
```

## Конфигурация и настройки

### Обновление данных
```javascript
const config = {
  autoUpdate: true,        // Автообновление при изменении исходного файла
  backupEnabled: true,     // Создание резервных копий
  compressionLevel: 5,     // Уровень сжатия при экспорте
  retentionDays: 90       // Период хранения данных
};
```

### Форматы экспорта
- **JSON** - Исходный формат данных
- **CSV** - Для Excel и аналитических инструментов
- **SQL** - Для загрузки в реляционные БД
- **Excel** - Планируется в следующих версиях

## Интеграция с системой

### API совместимость
Данные полностью совместимы с существующими API:
- `tradingNetworkAPI.getPrices()`
- `tradingNetworkAPI.getServices()`
- Сервисы операций и транзакций

### Mock режим
При использовании `USE_MOCK_MODE = true` система автоматически использует эти демо данные.

## Поддержка и обновления

### Версионирование
- v1.0 - Базовая генерация августовских данных
- v1.1 - Добавлены реалистичные паттерны времени
- v1.2 - Поддержка экспорта в множественные форматы

### Планы развития
- [ ] Поддержка других месяцев и годов
- [ ] Интеграция с реальными API поставщиков
- [ ] Расширенные типы операций
- [ ] Поддержка Excel экспорта
- [ ] Web-интерфейс для настройки генерации

---

*Данные сгенерированы автоматически для демонстрационных целей. При использовании в продакшене рекомендуется заменить на реальные данные.*